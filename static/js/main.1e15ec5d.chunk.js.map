{"version":3,"sources":["firebase.js","contexts/AuthContext.js","contexts/movies-context.js","utils/loadUserDocument.js","utils/updateUserDocument.js","components/Dashboard.js","utils/MovieListsUtils.js","components/CustomOverlayTrigger.js","components/CustomToastContainer.js","components/FavoriteMovie.js","components/Modals/AddMovieToMovieListModal.js","components/Modals/ClearFavoritesModal.js","components/Modals/ClearMovieListModal.js","components/Modals/DeleteMovieListModal.js","components/Modals/EditMovieListNameModal.js","components/Favorites/Favorites.js","components/ForgotPassword.js","components/FullPlot/FullPlotCards.js","components/FullPlot/FullPlot.js","hooks/useMounted.js","components/Login.js","components/MyNavbar.js","components/NotFound.js","components/PrivateRoute.js","components/Search/Search.js","components/Signup/Signup.js","components/UpdateProfile.js","App.js","reportWebVitals.js","index.js"],"names":["app","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","getAuth","getFirestore","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","loading","setLoading","useEffect","onAuthStateChanged","user","console","log","value","signup","email","password","createUserWithEmailAndPassword","login","signInWithEmailAndPassword","logout","signOut","resetPassword","sendPasswordResetEmail","updateUserEmail","emailParam","updateEmail","updateUserPassword","updatePassword","signInWithGoogle","provider","GoogleAuthProvider","signInWithPopup","Provider","MoviesContext","loadUserDocument","setFavorites","setMovieLists","onSnapshot","collection","db","snapshot","docs","map","doc","data","id","filter","uid","favorites","movieLists","updateUserDocument","a","docRef","payload","setDoc","Dashboard","error","setError","history","useHistory","push","some","Container","className","style","minHieght","maxWidth","Card","Body","Alert","variant","to","Button","onClick","handleLogout","createNewMovieListWithNameAndMovie","name","movie","setName","movieTitle","movieListName","length","list","Title","toast","success","addToMovieList","movielist","movieParam","index","findIndex","imdbID","warn","removeFromMovieList","newMovieList","CustomOverlayTrigger","componentName","handleAddMovieListShow","setCurrentMovie","OverlayTrigger","trigger","placement","rootClose","overlay","Popover","Header","as","document","body","click","CustomToastContainer","autoClose","position","pauseOnFocusLoss","limit","FavoriteMovie","display","fav","Poster","Year","newFavorites","deletedFromFavorites","AddMovieModal","showAddMovieList","handleAddMovieListClose","currentMovie","Modal","show","onHide","closeButton","onChange","e","target","onKeyDown","key","Footer","disabled","ClearFavoritesModal","showFavoritesClear","handleCloseFavoritesClear","ClearMovieListModal","showMovieListsClear","handleCloseMovieListsClear","currentMovieListName","DeleteMovieListModal","showMovieListsDelete","handleCloseMovieListsDelete","deletedFromAccordianList","EditMovieListNameModal","showEditMovieLists","handleShowEditMovieLists","handleCloseEditMovieLists","editCurrentMovieListName","setEditCurrentMovieListName","Favorites","activeAccordianItems","setActiveAccordianItems","setCurrentMovieListName","setShowFavoritesClear","setShowMovieListsClear","setShowMovieListsDelete","setShowAddMovieList","setShowEditMovieLists","Accordion","defaultActiveKey","alwaysOpen","Item","eventKey","newActiveKeys","Heading","Link","href","favorite","Img","src","Type","toString","ForgotPassword","emailRef","useRef","message","setMessage","preventDefault","current","Form","onSubmit","Group","Label","Control","type","ref","required","AdditionalDetailsCards","fullPlot","Ratings","rating","Text","Source","Value","Released","DVD","Director","Writer","BoxOffice","Awards","FullPlot","useParams","fullPlotType","fullPlotTitle","setFullPlot","axios","get","then","res","catch","Rated","Runtime","imdbRating","imdbVotes","Actors","Plot","Genre","Language","Country","useMounted","mounted","Login","passwordRef","MyNavbar","setMovies","setTitle","Navbar","bg","expand","sticky","Brand","Toggle","Collapse","Nav","NotFound","PrivateRoute","Component","component","rest","render","props","Search","movies","title","findByTitle","setFindByTitle","setTotalResults","page","setPage","nextPageDisabled","setNextPageDisabled","retrieveMovies","results","numOfResults","totalResults","checkForNextPageResults","searchTerm","checkNextPage","undefined","alt","Pagination","Signup","passwordConfirmRef","UpdateProfile","promises","Promise","all","finally","defaultValue","placeholder","App","notifyFoundResults","notifyNoResults","totalResultsNum","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1e15ec5d.chunk.js","sourcesContent":["import { initializeApp } from 'firebase/app'\r\nimport { getAuth } from 'firebase/auth'\r\nimport { getFirestore } from 'firebase/firestore'\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n}\r\n\r\nconst app = initializeApp(firebaseConfig)\r\nexport const auth = getAuth(app)\r\n// export default app\r\nexport default getFirestore()\r\n","import React, { useContext, useState, useEffect } from 'react'\r\nimport {\r\n  onAuthStateChanged,\r\n  createUserWithEmailAndPassword,\r\n  signInWithEmailAndPassword,\r\n  signOut,\r\n  sendPasswordResetEmail,\r\n  updateEmail,\r\n  updatePassword,\r\n  GoogleAuthProvider,\r\n  signInWithPopup,\r\n} from 'firebase/auth'\r\nimport { auth } from '../firebase'\r\n\r\nconst AuthContext = React.createContext()\r\n\r\nexport function useAuth() {\r\n  return useContext(AuthContext)\r\n}\r\n\r\nexport function AuthProvider({ children }) {\r\n  const [currentUser, setCurrentUser] = useState()\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  function signup(email, password) {\r\n    return createUserWithEmailAndPassword(auth, email, password)\r\n  }\r\n\r\n  function login(email, password) {\r\n    return signInWithEmailAndPassword(auth, email, password)\r\n  }\r\n\r\n  function logout() {\r\n    return signOut(auth)\r\n  }\r\n\r\n  function resetPassword(email) {\r\n    return sendPasswordResetEmail(auth, email)\r\n  }\r\n\r\n  function updateUserEmail(emailParam) {\r\n    return updateEmail(auth.currentUser, emailParam)\r\n  }\r\n\r\n  function updateUserPassword(password) {\r\n    return updatePassword(auth.currentUser, password)\r\n  }\r\n\r\n  function signInWithGoogle() {\r\n    const provider = new GoogleAuthProvider()\r\n    return signInWithPopup(auth, provider)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onAuthStateChanged(auth, (user) => {\r\n      setCurrentUser(user)\r\n      setLoading(false)\r\n    })\r\n\r\n    return unsubscribe\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    console.log('The user is', currentUser)\r\n  }, [currentUser])\r\n\r\n  const value = {\r\n    currentUser,\r\n    signup,\r\n    login,\r\n    logout,\r\n    resetPassword,\r\n    updateUserEmail,\r\n    updateUserPassword,\r\n    signInWithGoogle,\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {!loading && children}\r\n    </AuthContext.Provider>\r\n  )\r\n}\r\n","import React from 'react'\r\nexport const MoviesContext = React.createContext()\r\n","import db from '../firebase'\r\nimport { onSnapshot, collection } from 'firebase/firestore'\r\n\r\nexport default function loadUserDocument(\r\n  currentUser,\r\n  setFavorites,\r\n  setMovieLists,\r\n) {\r\n  onSnapshot(collection(db, 'UserMovieLists'), (snapshot) => {\r\n    console.log('Load user document')\r\n    // console.log(currentUser.uid)\r\n    // console.log(\r\n    //   snapshot.docs\r\n    //     .map((doc) => ({ ...doc.data(), id: doc.id }))\r\n    //     .some((doc) => doc == currentUser.uid),\r\n    // )\r\n    setFavorites(\r\n      ...snapshot.docs\r\n        .map((doc) => ({ ...doc.data(), id: doc.id }))\r\n        .filter((doc) => doc.id == currentUser.uid)\r\n        .map((doc) => doc.favorites),\r\n    )\r\n    setMovieLists(\r\n      ...snapshot.docs\r\n        .map((doc) => ({ ...doc.data(), id: doc.id }))\r\n        .filter((doc) => doc.id == currentUser.uid)\r\n        .map((doc) => doc.movieLists),\r\n    )\r\n  })\r\n}\r\n","import db from '../firebase'\r\nimport { setDoc, doc } from 'firebase/firestore'\r\n\r\nexport default async function updateUserDocument(\r\n  currentUser,\r\n  favorites,\r\n  movieLists,\r\n) {\r\n  // console.log('Inside update, no null: ', currentUser.uid)\r\n  const docRef = doc(db, 'UserMovieLists', currentUser.uid)\r\n  // console.log('Changed favorites ', favorites)\r\n  // console.log('Changed movieLists ', movieLists)\r\n  const payload = { favorites, movieLists }\r\n  await setDoc(docRef, payload)\r\n  console.log('Updated doc')\r\n}\r\n","import { collection, onSnapshot } from 'firebase/firestore'\r\nimport React, { useContext, useEffect, useState } from 'react'\r\nimport Alert from 'react-bootstrap/Alert'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Card from 'react-bootstrap/Card'\r\nimport Container from 'react-bootstrap/Container'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { useAuth } from '../contexts/AuthContext'\r\nimport { MoviesContext } from '../contexts/movies-context'\r\nimport db from '../firebase'\r\nimport loadUserDocument from '../utils/loadUserDocument'\r\nimport updateUserDocument from '../utils/updateUserDocument'\r\n\r\nexport default function Dashboard() {\r\n  const [error, setError] = useState('')\r\n  const { currentUser, logout } = useAuth()\r\n  const { setMovieLists, setFavorites, favorites, movieLists } = useContext(\r\n    MoviesContext,\r\n  )\r\n  const history = useHistory()\r\n\r\n  async function handleLogout() {\r\n    setError('')\r\n    try {\r\n      await logout()\r\n      setFavorites([])\r\n      setMovieLists([])\r\n      history.push('/login')\r\n    } catch (error) {\r\n      setError('Failed to log out')\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    // console.log('Load on login on not null: ', currentUser)\r\n    if (currentUser != null) {\r\n      onSnapshot(collection(db, 'UserMovieLists'), (snapshot) => {\r\n        // console.log(currentUser.uid)\r\n        const accountInDB = snapshot.docs\r\n          .map((doc) => ({ ...doc.data(), id: doc.id }))\r\n          .some((doc) => doc.id == currentUser.uid)\r\n\r\n        // console.log(accountInDB)\r\n        if (accountInDB == false) {\r\n          updateUserDocument(currentUser, favorites, movieLists)\r\n        } else {\r\n          loadUserDocument(currentUser, setFavorites, setMovieLists)\r\n        }\r\n      })\r\n    }\r\n  }, [currentUser])\r\n\r\n  return (\r\n    <Container\r\n      className=\"d-flex align-items-center justify-content-center text-align\"\r\n      style={{ minHieght: '100vh' }}\r\n    >\r\n      <div className=\"w-100\" style={{ maxWidth: '400px' }}>\r\n        <h1 className=\"display-4 display-margin\">Profile</h1>\r\n        <Card>\r\n          <Card.Body>\r\n            {error && <Alert variant=\"danger\">{error}</Alert>}\r\n            <strong>Email: </strong>\r\n            {currentUser.email}\r\n            <Link to=\"/update-profile\" className=\"btn btn-primary w-100 mt-3\">\r\n              Update Profile\r\n            </Link>\r\n          </Card.Body>\r\n        </Card>\r\n        <div className=\"w-100 text-center mt-2\">\r\n          <Button\r\n            variant=\"link\"\r\n            className=\"logout-button\"\r\n            onClick={() => {\r\n              handleLogout()\r\n            }}\r\n          >\r\n            Log Out\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </Container>\r\n  )\r\n}\r\n","import { toast } from 'react-toastify'\r\nimport updateUserDocument from './updateUserDocument.js'\r\n\r\nconst notifyCreatedMovieList = (movieTitle, movieListName) =>\r\n  toast.success('Created ' + movieListName + ' and added ' + movieTitle)\r\nconst notifyAddedMovie = (movieTitle, movieListName) =>\r\n  toast.success('Added ' + movieTitle)\r\nconst notifyMovieAlreadyExists = (movieTitle, movieListName) =>\r\n  toast.warn('Already exists in ' + movieListName)\r\nconst notifyRemovedMovie = (movieTitle, movieListName) =>\r\n  toast.success('Removed ' + movieTitle)\r\n\r\nexport function createNewMovieListWithNameAndMovie(\r\n  name,\r\n  movie,\r\n  movieLists,\r\n  setMovieLists,\r\n  setName,\r\n  currentUser,\r\n  favorites,\r\n) {\r\n  movieLists[movieLists.length] = { name: name, list: [movie] }\r\n  setMovieLists([...movieLists])\r\n  if (currentUser != null) {\r\n    updateUserDocument(currentUser, favorites, movieLists)\r\n  }\r\n  notifyCreatedMovieList(movie.Title, name)\r\n  setName('')\r\n}\r\n\r\nexport function addToMovieList(\r\n  movielist,\r\n  movieParam,\r\n  movieLists,\r\n  setMovieLists,\r\n  currentUser,\r\n  favorites,\r\n) {\r\n  const index = movieLists.findIndex((list) => list == movielist)\r\n  if (\r\n    !movieLists[index].list.some((movie) => movie.imdbID == movieParam.imdbID)\r\n  ) {\r\n    movieLists[index].list = [...movieLists[index].list, movieParam]\r\n    setMovieLists([...movieLists])\r\n    if (currentUser != null) {\r\n      updateUserDocument(currentUser, favorites, movieLists)\r\n    }\r\n    notifyAddedMovie(movieParam.Title, movielist.name)\r\n  } else {\r\n    notifyMovieAlreadyExists(movieParam.Title, movielist.name)\r\n  }\r\n}\r\n\r\nexport function removeFromMovieList(\r\n  movielist,\r\n  movieParam,\r\n  movieLists,\r\n  setMovieLists,\r\n  currentUser,\r\n  favorites,\r\n) {\r\n  const index = movieLists.findIndex((list) => list == movielist)\r\n  const newMovieList = movieLists[index].list.filter(\r\n    (movie) => movie.imdbID !== movieParam.imdbID,\r\n  )\r\n  movieLists[index].list = newMovieList\r\n  setMovieLists([...movieLists])\r\n  if (currentUser != null) {\r\n    updateUserDocument(currentUser, favorites, movieLists)\r\n  }\r\n  notifyRemovedMovie(movieParam.Title, movielist.name)\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { MoviesContext } from '../contexts/movies-context'\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger'\r\nimport Popover from 'react-bootstrap/Popover'\r\nimport Button from 'react-bootstrap/Button'\r\nimport { AiOutlinePlusCircle } from 'react-icons/ai'\r\nimport { addToMovieList } from '../utils/MovieListsUtils'\r\n\r\nexport default function CustomOverlayTrigger({\r\n  componentName,\r\n  movie,\r\n  handleAddMovieListShow,\r\n  currentUser,\r\n}) {\r\n  const {\r\n    favorites,\r\n    movieLists,\r\n    setMovieLists,\r\n    setName,\r\n    setCurrentMovie,\r\n  } = useContext(MoviesContext)\r\n\r\n  return (\r\n    <OverlayTrigger\r\n      trigger=\"click\"\r\n      key=\"bottom-start\"\r\n      placement=\"bottom-start\"\r\n      rootClose={true}\r\n      overlay={\r\n        <Popover id=\"popover-positioned-bottom-start\">\r\n          <Popover.Header as=\"h3\">Add to movie list</Popover.Header>\r\n          <Popover.Body className=\"popover-button\">\r\n            <Button\r\n              variant=\"dark\"\r\n              className=\"custom-button\"\r\n              onClick={() => {\r\n                document.body.click()\r\n                setCurrentMovie(movie)\r\n                handleAddMovieListShow()\r\n              }}\r\n            >\r\n              New movie list\r\n            </Button>\r\n          </Popover.Body>\r\n          {movieLists.map((movielist, index) => (\r\n            <Popover.Body\r\n              key={index}\r\n              onClick={() => {\r\n                setName(movielist.name)\r\n                addToMovieList(\r\n                  movielist,\r\n                  movie,\r\n                  movieLists,\r\n                  setMovieLists,\r\n                  currentUser,\r\n                  favorites,\r\n                )\r\n              }}\r\n            >\r\n              {movielist.name}\r\n            </Popover.Body>\r\n          ))}\r\n        </Popover>\r\n      }\r\n    >\r\n      <button\r\n        className={\r\n          componentName == 'search'\r\n            ? 'search-add-to-list card-icons'\r\n            : componentName == 'favorites'\r\n            ? 'add-to-list card-icons'\r\n            : 'info-add-to-list info-card-icons'\r\n        }\r\n      >\r\n        <AiOutlinePlusCircle />\r\n      </button>\r\n    </OverlayTrigger>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { ToastContainer } from 'react-toastify'\r\n\r\nexport default function CustomToastContainer({ autoClose }) {\r\n  return (\r\n    <ToastContainer\r\n      position=\"bottom-center\"\r\n      pauseOnFocusLoss={false}\r\n      autoClose={autoClose}\r\n      limit={3}\r\n      className=\"smaller-font\"\r\n    />\r\n  )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { AiFillStar, AiOutlineStar } from 'react-icons/ai'\r\nimport { MoviesContext } from '../contexts/movies-context'\r\nimport updateUserDocument from '../utils/updateUserDocument'\r\n\r\nexport default function FavoriteMovie({ componentName, movie, currentUser }) {\r\n  const { favorites, setFavorites, movieLists, setMovieLists } = useContext(\r\n    MoviesContext,\r\n  )\r\n\r\n  return (\r\n    <div>\r\n      <AiOutlineStar\r\n        className={\r\n          componentName == 'info'\r\n            ? 'info-star info-card-icons'\r\n            : 'search-star card-icons'\r\n        }\r\n        style={{\r\n          display: favorites.some(\r\n            (fav) =>\r\n              fav.Poster === movie.Poster &&\r\n              fav.Title === movie.Title &&\r\n              fav.Year === movie.Year,\r\n          )\r\n            ? 'none'\r\n            : 'block',\r\n        }}\r\n        onClick={() => {\r\n          if (\r\n            !favorites.some(\r\n              (fav) =>\r\n                fav.Poster === movie.Poster &&\r\n                fav.Title === movie.Title &&\r\n                fav.Year === movie.Year,\r\n            )\r\n          ) {\r\n            const newFavorites = [...favorites, movie]\r\n            setFavorites(newFavorites)\r\n            if (currentUser != null) {\r\n              updateUserDocument(currentUser, newFavorites, movieLists)\r\n            }\r\n          }\r\n        }}\r\n      />\r\n\r\n      <AiFillStar\r\n        className={\r\n          componentName == 'info'\r\n            ? 'info-star info-card-icons gold-fill'\r\n            : 'star card-icons gold-fill'\r\n        }\r\n        style={{\r\n          display: favorites.some(\r\n            (fav) =>\r\n              fav.Poster === movie.Poster &&\r\n              fav.Title === movie.Title &&\r\n              fav.Year === movie.Year,\r\n          )\r\n            ? 'block'\r\n            : 'none',\r\n        }}\r\n        onClick={() => {\r\n          const deletedFromFavorites = favorites.filter(\r\n            (fav) => fav.imdbID !== movie.imdbID,\r\n          )\r\n          setFavorites(deletedFromFavorites)\r\n          if (currentUser != null) {\r\n            updateUserDocument(currentUser, deletedFromFavorites, movieLists)\r\n          }\r\n        }}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { MoviesContext } from '../../contexts/movies-context'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport { createNewMovieListWithNameAndMovie } from '../../utils/MovieListsUtils'\r\n\r\nexport default function AddMovieModal({\r\n  showAddMovieList,\r\n  handleAddMovieListClose,\r\n  currentUser,\r\n}) {\r\n  const {\r\n    movieLists,\r\n    setMovieLists,\r\n    name,\r\n    setName,\r\n    currentMovie,\r\n    favorites,\r\n  } = useContext(MoviesContext)\r\n\r\n  return (\r\n    <Modal show={showAddMovieList} onHide={handleAddMovieListClose}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Give your movie list a name.</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <input\r\n          value={name}\r\n          onChange={(e) => setName(e.target.value)}\r\n          onKeyDown={(e) => {\r\n            if (e.key == 'Enter' && name !== '') {\r\n              // console.log(currentMovie)\r\n              createNewMovieListWithNameAndMovie(\r\n                name,\r\n                currentMovie,\r\n                movieLists,\r\n                setMovieLists,\r\n                setName,\r\n                currentUser,\r\n                favorites,\r\n              )\r\n              handleAddMovieListClose()\r\n            }\r\n          }}\r\n        ></input>\r\n      </Modal.Body>\r\n      <Modal.Body\r\n        className=\"no-padding-top\"\r\n        style={{\r\n          display: movieLists.some((movielist) => movielist.name == name)\r\n            ? 'block'\r\n            : 'none',\r\n        }}\r\n      >\r\n        This movie list already exists.\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button\r\n          variant=\"primary\"\r\n          onClick={() => {\r\n            createNewMovieListWithNameAndMovie(\r\n              name,\r\n              currentMovie,\r\n              movieLists,\r\n              setMovieLists,\r\n              setName,\r\n              currentUser,\r\n              favorites,\r\n            )\r\n            handleAddMovieListClose()\r\n          }}\r\n          disabled={movieLists.some((movielist) => movielist.name == name)}\r\n        >\r\n          Create\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { MoviesContext } from '../../contexts/movies-context'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport updateUserDocument from '../../utils/updateUserDocument'\r\n\r\nexport default function ClearFavoritesModal({\r\n  showFavoritesClear,\r\n  handleCloseFavoritesClear,\r\n  currentUser,\r\n}) {\r\n  const { setFavorites, movieLists } = useContext(MoviesContext)\r\n  return (\r\n    <Modal show={showFavoritesClear} onHide={handleCloseFavoritesClear}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Clear favorites list</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        Are you sure you want to clear your favorites list?\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={handleCloseFavoritesClear}>\r\n          No\r\n        </Button>\r\n        <Button\r\n          variant=\"primary\"\r\n          onClick={() => {\r\n            setFavorites([])\r\n            if (currentUser != null) {\r\n              updateUserDocument(currentUser, [], movieLists)\r\n            }\r\n            handleCloseFavoritesClear()\r\n          }}\r\n        >\r\n          Yes\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { MoviesContext } from '../../contexts/movies-context'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport updateUserDocument from '../../utils/updateUserDocument'\r\n\r\nexport default function ClearMovieListModal({\r\n  showMovieListsClear,\r\n  handleCloseMovieListsClear,\r\n  currentMovieListName,\r\n  currentUser,\r\n}) {\r\n  const { favorites, movieLists, setMovieLists } = useContext(MoviesContext)\r\n  return (\r\n    <Modal show={showMovieListsClear} onHide={handleCloseMovieListsClear}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Clear movie list</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        Are you sure you want to clear {currentMovieListName}?\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={handleCloseMovieListsClear}>\r\n          No\r\n        </Button>\r\n        <Button\r\n          variant=\"primary\"\r\n          onClick={() => {\r\n            const index = movieLists.findIndex(\r\n              (list) => list.name == currentMovieListName,\r\n            )\r\n            movieLists[index].list = []\r\n            setMovieLists([...movieLists])\r\n            if (currentUser != null) {\r\n              updateUserDocument(currentUser, favorites, movieLists)\r\n            }\r\n            handleCloseMovieListsClear()\r\n          }}\r\n        >\r\n          Yes\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { MoviesContext } from '../../contexts/movies-context'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport updateUserDocument from '../../utils/updateUserDocument'\r\n\r\nexport default function DeleteMovieListModal({\r\n  showMovieListsDelete,\r\n  handleCloseMovieListsDelete,\r\n  currentMovieListName,\r\n  currentUser,\r\n}) {\r\n  const { favorites, movieLists, setMovieLists } = useContext(MoviesContext)\r\n  return (\r\n    <Modal show={showMovieListsDelete} onHide={handleCloseMovieListsDelete}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Delete movie list</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        Are you sure you want to delete {currentMovieListName}?\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={handleCloseMovieListsDelete}>\r\n          No\r\n        </Button>\r\n        <Button\r\n          variant=\"primary\"\r\n          onClick={() => {\r\n            const deletedFromAccordianList = movieLists.filter(\r\n              (list) => list.name !== currentMovieListName,\r\n            )\r\n            setMovieLists([...deletedFromAccordianList])\r\n            if (currentUser != null) {\r\n              updateUserDocument(currentUser, favorites, [\r\n                ...deletedFromAccordianList,\r\n              ])\r\n            }\r\n            handleCloseMovieListsDelete()\r\n          }}\r\n        >\r\n          Yes\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { MoviesContext } from '../../contexts/movies-context'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport updateUserDocument from '../../utils/updateUserDocument'\r\n\r\nexport default function EditMovieListNameModal({\r\n  showEditMovieLists,\r\n  handleShowEditMovieLists,\r\n  handleCloseEditMovieLists,\r\n  editCurrentMovieListName,\r\n  setEditCurrentMovieListName,\r\n  movielist,\r\n  currentMovieListName,\r\n  currentUser,\r\n}) {\r\n  const { movieLists, setMovieLists, favorites } = useContext(MoviesContext)\r\n  return (\r\n    <Modal show={showEditMovieLists} onHide={handleCloseEditMovieLists}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Edit movie list name</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <input\r\n          value={editCurrentMovieListName}\r\n          onChange={(e) => setEditCurrentMovieListName(e.target.value)}\r\n          onKeyDown={(e) => {\r\n            if (e.key == 'Enter' && editCurrentMovieListName !== '') {\r\n              handleShowEditMovieLists(movielist.name)\r\n              const index = movieLists.findIndex(\r\n                (list) => list.name == currentMovieListName,\r\n              )\r\n              movieLists[index].name = editCurrentMovieListName\r\n              setMovieLists([...movieLists])\r\n              if (currentUser != null) {\r\n                updateUserDocument(currentUser, favorites, movieLists)\r\n              }\r\n              handleCloseEditMovieLists()\r\n            }\r\n          }}\r\n        ></input>\r\n      </Modal.Body>\r\n      <Modal.Body\r\n        className=\"no-padding-top\"\r\n        style={{\r\n          display: movieLists.some(\r\n            (movielist) => movielist.name == editCurrentMovieListName,\r\n          )\r\n            ? 'block'\r\n            : 'none',\r\n        }}\r\n      >\r\n        This movie list name already exists.\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button\r\n          variant=\"primary\"\r\n          onClick={() => {\r\n            if (editCurrentMovieListName !== '') {\r\n              const index = movieLists.findIndex(\r\n                (list) => list.name == currentMovieListName,\r\n              )\r\n              movieLists[index].name = editCurrentMovieListName\r\n              setMovieLists([...movieLists])\r\n              handleCloseEditMovieLists()\r\n            }\r\n          }}\r\n          disabled={movieLists.some(\r\n            (movielist) => movielist.name == editCurrentMovieListName,\r\n          )}\r\n        >\r\n          Confirm\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  )\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport Accordion from 'react-bootstrap/Accordion'\r\nimport Alert from 'react-bootstrap/Alert'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Card from 'react-bootstrap/Card'\r\nimport {\r\n  AiFillStar,\r\n  AiOutlineClear,\r\n  AiOutlineEdit,\r\n  AiOutlineMinusSquare,\r\n} from 'react-icons/ai'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport 'react-toastify/dist/ReactToastify.css'\r\nimport { useAuth } from '../../contexts/AuthContext'\r\nimport { MoviesContext } from '../../contexts/movies-context'\r\nimport { removeFromMovieList } from '../../utils/MovieListsUtils'\r\nimport updateUserDocument from '../../utils/updateUserDocument.js'\r\nimport CustomOverlayTrigger from '../CustomOverlayTrigger'\r\nimport CustomToastContainer from '../CustomToastContainer'\r\nimport FavoriteMovie from '../FavoriteMovie'\r\nimport AddMovieToMovieListModal from '../Modals/AddMovieToMovieListModal'\r\nimport ClearFavoritesModal from '../Modals/ClearFavoritesModal'\r\nimport ClearMovieListModal from '../Modals/ClearMovieListModal'\r\nimport DeleteMovieListModal from '../Modals/DeleteMovieListModal'\r\nimport EditMovieListNameModal from '../Modals/EditMovieListNameModal'\r\nimport './Favorites.css'\r\n\r\nexport const Favorites = () => {\r\n  const { currentUser } = useAuth()\r\n  const {\r\n    favorites,\r\n    setFavorites,\r\n    movieLists,\r\n    setMovieLists,\r\n    name,\r\n    setName,\r\n  } = useContext(MoviesContext)\r\n  const [activeAccordianItems, setActiveAccordianItems] = useState(['0'])\r\n\r\n  const [currentMovieListName, setCurrentMovieListName] = useState('')\r\n\r\n  const [showFavoritesClear, setShowFavoritesClear] = useState(false)\r\n  const handleCloseFavoritesClear = () => setShowFavoritesClear(false)\r\n  const handleShowFavoritesClear = () => setShowFavoritesClear(true)\r\n\r\n  const [showMovieListsClear, setShowMovieListsClear] = useState(false)\r\n  const handleCloseMovieListsClear = () => setShowMovieListsClear(false)\r\n  const handleShowMovieListsClear = (movieListName) => {\r\n    setShowMovieListsClear(true)\r\n    setCurrentMovieListName(movieListName)\r\n  }\r\n\r\n  const [showMovieListsDelete, setShowMovieListsDelete] = useState(false)\r\n  const handleCloseMovieListsDelete = () => setShowMovieListsDelete(false)\r\n  const handleShowMovieListsDelete = (movieListName) => {\r\n    setShowMovieListsDelete(true)\r\n    setCurrentMovieListName(movieListName)\r\n  }\r\n\r\n  const [showAddMovieList, setShowAddMovieList] = useState(false)\r\n\r\n  const handleAddMovieListClose = () => {\r\n    setShowAddMovieList(false)\r\n    setName('')\r\n  }\r\n  const handleAddMovieListShow = () => {\r\n    setShowAddMovieList(true)\r\n    setName('')\r\n  }\r\n\r\n  const [showEditMovieLists, setShowEditMovieLists] = useState(false)\r\n  const handleCloseEditMovieLists = () => {\r\n    setShowEditMovieLists(false)\r\n    setCurrentMovieListName('')\r\n    setEditCurrentMovieListName('')\r\n  }\r\n  const handleShowEditMovieLists = (movieListName) => {\r\n    setShowEditMovieLists(true)\r\n    setCurrentMovieListName(movieListName)\r\n  }\r\n\r\n  const [editCurrentMovieListName, setEditCurrentMovieListName] = useState('')\r\n\r\n  let history = useHistory()\r\n\r\n  useEffect(() => {}, [favorites])\r\n\r\n  useEffect(() => {}, [activeAccordianItems])\r\n\r\n  useEffect(() => {}, [currentMovieListName])\r\n\r\n  useEffect(() => {}, [movieLists])\r\n\r\n  useEffect(() => {}, [name])\r\n\r\n  return (\r\n    <div className=\"container favorites-container\">\r\n      <h1 className=\"display-4 display-margin\">Favorites</h1>\r\n\r\n      <CustomToastContainer autoClose={2000} />\r\n\r\n      <AddMovieToMovieListModal\r\n        showAddMovieList={showAddMovieList}\r\n        handleAddMovieListClose={handleAddMovieListClose}\r\n        currentUser={currentUser}\r\n      />\r\n\r\n      {currentUser == null && (\r\n        <Alert variant=\"info\" className=\"align-left\">\r\n          <Link to=\"/signup\">Create an account</Link> to save your favorites and\r\n          movie list(s).\r\n        </Alert>\r\n      )}\r\n\r\n      <Accordion defaultActiveKey={activeAccordianItems} alwaysOpen>\r\n        <Accordion.Item eventKey=\"0\">\r\n          <Accordion.Header\r\n            onClick={() => {\r\n              const updateActiveKeys = activeAccordianItems.some(\r\n                (eventKey) => eventKey === '0',\r\n              )\r\n              var newActiveKeys = []\r\n              {\r\n                updateActiveKeys\r\n                  ? (newActiveKeys = activeAccordianItems.filter(\r\n                      (eventKey) => eventKey !== '0',\r\n                    ))\r\n                  : (newActiveKeys = [...activeAccordianItems, '0'])\r\n              }\r\n              setActiveAccordianItems(newActiveKeys)\r\n            }}\r\n          >\r\n            Favorites\r\n          </Accordion.Header>\r\n\r\n          {favorites && favorites.length == 0 ? (\r\n            <Accordion.Body>\r\n              <Alert variant=\"light\" className=\"align-left\">\r\n                <Alert.Heading>Hey, nice to see you</Alert.Heading>\r\n                <hr />\r\n                <p className=\"mb-0\">\r\n                   <Alert.Link href=\"/\">Star</Alert.Link> movies to add them\r\n                  to your favorites!\r\n                </p>\r\n              </Alert>\r\n            </Accordion.Body>\r\n          ) : (\r\n            <Accordion.Body>\r\n              <div className=\"favorites-mapping-container\">\r\n                {favorites.map((favorite, index) => (\r\n                  <Card\r\n                    key={index}\r\n                    className=\"favorite-card col-6 col-xs-6 col-sm-5\"\r\n                  >\r\n                    <Card.Img\r\n                      src={\r\n                        favorite.Poster == 'N/A'\r\n                          ? 'https://2gyntc2a2i9a22ifya16a222-wpengine.netdna-ssl.com/wp-content/uploads/sites/29/2014/12/Image-Not-Available.jpg'\r\n                          : favorite.Poster\r\n                      }\r\n                      onClick={() => {\r\n                        history.push(\r\n                          `/fullPlot/${favorite.Type}/${favorite.Title}`,\r\n                        )\r\n                      }}\r\n                    />\r\n                    {console.log(favorite.Poster)}\r\n                    <CustomOverlayTrigger\r\n                      componentName=\"favorites\"\r\n                      movie={favorite}\r\n                      handleAddMovieListShow={handleAddMovieListShow}\r\n                      currentUser={currentUser}\r\n                    />\r\n                    <div>\r\n                      <AiFillStar\r\n                        className=\"star card-icons gold-fill\"\r\n                        style={{\r\n                          display: 'block',\r\n                        }}\r\n                        onClick={() => {\r\n                          const deletedFromFavorites = favorites.filter(\r\n                            (fav) => fav.imdbID !== favorite.imdbID,\r\n                          )\r\n                          setFavorites(deletedFromFavorites)\r\n                          if (currentUser != null) {\r\n                            updateUserDocument(\r\n                              currentUser,\r\n                              deletedFromFavorites,\r\n                              movieLists,\r\n                            )\r\n                          }\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    <Card.Body\r\n                      onClick={() => {\r\n                        history.push(\r\n                          `/fullPlot/${favorite.Type}/${favorite.Title}`,\r\n                        )\r\n                      }}\r\n                    >\r\n                      <Card.Title>\r\n                        {favorite.Title} ({favorite.Year})\r\n                      </Card.Title>\r\n                    </Card.Body>\r\n                  </Card>\r\n                ))}\r\n                <div className=\"floating-buttons\">\r\n                  <Button\r\n                    variant=\"outline-dark\"\r\n                    className=\"float-left custom-button\"\r\n                    onClick={handleShowFavoritesClear}\r\n                  >\r\n                    <AiOutlineClear /> Clear\r\n                  </Button>\r\n                </div>\r\n\r\n                <ClearFavoritesModal\r\n                  showFavoritesClear={showFavoritesClear}\r\n                  handleCloseFavoritesClear={handleCloseFavoritesClear}\r\n                  currentUser={currentUser}\r\n                />\r\n              </div>\r\n            </Accordion.Body>\r\n          )}\r\n        </Accordion.Item>\r\n\r\n        {movieLists.map((movielist, index) => (\r\n          <Accordion.Item eventKey={(index + 1).toString()}>\r\n            <Accordion.Header\r\n              onClick={() => {\r\n                const updateActiveKeys = activeAccordianItems.some(\r\n                  (eventKey) => eventKey === (index + 1).toString(),\r\n                )\r\n                var newActiveKeys = []\r\n                {\r\n                  updateActiveKeys\r\n                    ? (newActiveKeys = activeAccordianItems.filter(\r\n                        (eventKey) => eventKey !== (index + 1).toString(),\r\n                      ))\r\n                    : (newActiveKeys = [\r\n                        ...activeAccordianItems,\r\n                        (index + 1).toString(),\r\n                      ])\r\n                }\r\n                setActiveAccordianItems(newActiveKeys)\r\n              }}\r\n            >\r\n              {movielist.name}\r\n            </Accordion.Header>\r\n\r\n            {movielist && movielist.list.length === 0 ? (\r\n              <Accordion.Body>\r\n                <Alert variant=\"light\" className=\"align-left\">\r\n                  <p className=\"mb-0\">\r\n                     <Alert.Link href=\"/\">Add</Alert.Link> movies to this\r\n                    list!\r\n                  </p>\r\n                </Alert>\r\n              </Accordion.Body>\r\n            ) : (\r\n              <Accordion.Body>\r\n                <div className=\"favorites-mapping-container\">\r\n                  {movielist.list.map((movie, index) => (\r\n                    <Card\r\n                      key={index}\r\n                      className=\"favorite-card col-6 col-xs-6 col-sm-5\"\r\n                    >\r\n                      <Card.Img\r\n                        src={\r\n                          movie.Poster == 'N/A'\r\n                            ? 'https://2gyntc2a2i9a22ifya16a222-wpengine.netdna-ssl.com/wp-content/uploads/sites/29/2014/12/Image-Not-Available.jpg'\r\n                            : movie.Poster\r\n                        }\r\n                        onClick={() => {\r\n                          history.push(`/fullPlot/${movie.Type}/${movie.Title}`)\r\n                        }}\r\n                      />\r\n                      <CustomOverlayTrigger\r\n                        componentName=\"favorites\"\r\n                        movie={movie}\r\n                        handleAddMovieListShow={handleAddMovieListShow}\r\n                        currentUser={currentUser}\r\n                      />\r\n                      <AiOutlineMinusSquare\r\n                        className=\"card-icons remove-movie\"\r\n                        onClick={() => {\r\n                          removeFromMovieList(\r\n                            movielist,\r\n                            movie,\r\n                            movieLists,\r\n                            setMovieLists,\r\n                            currentUser,\r\n                            favorites,\r\n                          )\r\n                        }}\r\n                      />\r\n                      <FavoriteMovie\r\n                        componentName=\"favorites\"\r\n                        movie={movie}\r\n                        currentUser={currentUser}\r\n                      />\r\n                      <Card.Body\r\n                        onClick={() => {\r\n                          history.push(`/fullPlot/${movie.Type}/${movie.Title}`)\r\n                        }}\r\n                      >\r\n                        <Card.Title>\r\n                          {movie.Title} ({movie.Year})\r\n                        </Card.Title>\r\n                      </Card.Body>\r\n                    </Card>\r\n                  ))}\r\n                  <div className=\"floating-buttons\">\r\n                    <Button\r\n                      variant=\"outline-dark\"\r\n                      className=\"float-left custom-button margin-right\"\r\n                      onClick={() => {\r\n                        handleShowMovieListsClear(movielist.name)\r\n                      }}\r\n                    >\r\n                      <AiOutlineClear /> Clear\r\n                    </Button>\r\n                    <Button\r\n                      variant=\"link\"\r\n                      className=\"float-left no-styling\"\r\n                      onClick={() => {\r\n                        handleShowMovieListsDelete(movielist.name)\r\n                      }}\r\n                    >\r\n                      Delete\r\n                    </Button>\r\n                    <Button\r\n                      variant=\"dark\"\r\n                      className=\"float-right custom-button\"\r\n                      onClick={() => {\r\n                        handleShowEditMovieLists(movielist.name)\r\n                      }}\r\n                    >\r\n                      <AiOutlineEdit /> Edit Name\r\n                    </Button>\r\n                  </div>\r\n\r\n                  <ClearMovieListModal\r\n                    showMovieListsClear={showMovieListsClear}\r\n                    handleCloseMovieListsClear={handleCloseMovieListsClear}\r\n                    currentMovieListName={currentMovieListName}\r\n                    currentUser={currentUser}\r\n                  />\r\n\r\n                  <DeleteMovieListModal\r\n                    showMovieListsDelete={showMovieListsDelete}\r\n                    handleCloseMovieListsDelete={handleCloseMovieListsDelete}\r\n                    currentMovieListName={currentMovieListName}\r\n                    currentUser={currentUser}\r\n                  />\r\n\r\n                  <EditMovieListNameModal\r\n                    showEditMovieLists={showEditMovieLists}\r\n                    handleShowEditMovieLists={handleShowEditMovieLists}\r\n                    handleCloseEditMovieLists={handleCloseEditMovieLists}\r\n                    editCurrentMovieListName={editCurrentMovieListName}\r\n                    setEditCurrentMovieListName={setEditCurrentMovieListName}\r\n                    movielist={movielist}\r\n                    currentMovieListName={currentMovieListName}\r\n                    currentUser={currentUser}\r\n                  />\r\n                </div>\r\n              </Accordion.Body>\r\n            )}\r\n          </Accordion.Item>\r\n        ))}\r\n      </Accordion>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useRef, useState } from 'react'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Card from 'react-bootstrap/Card'\r\nimport Alert from 'react-bootstrap/Alert'\r\nimport Container from 'react-bootstrap/Container'\r\nimport { useAuth } from '../contexts/AuthContext'\r\nimport { Link, useHistory } from 'react-router-dom'\r\n\r\nexport default function ForgotPassword() {\r\n  const emailRef = useRef()\r\n  const { resetPassword } = useAuth()\r\n  const [error, setError] = useState('')\r\n  const [loading, setLoading] = useState(false)\r\n  const [message, setMessage] = useState('')\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    try {\r\n      setMessage('')\r\n      setError('')\r\n      setLoading(true)\r\n      await resetPassword(emailRef.current.value)\r\n      setMessage('Check your inbox for further instructions')\r\n    } catch (error) {\r\n      console.log(error)\r\n      setError('Failed to reset password')\r\n    }\r\n    setLoading(false)\r\n  }\r\n\r\n  return (\r\n    <Container\r\n      className=\"d-flex align-items-center justify-content-center text-align\"\r\n      style={{ minHieght: '100vh' }}\r\n    >\r\n      <div className=\"w-100\" style={{ maxWidth: '400px' }}>\r\n        <h1 className=\"display-4 display-margin\">Password Reset</h1>\r\n        <Card>\r\n          <Card.Body>\r\n            {error && <Alert variant=\"danger\">{error}</Alert>}\r\n            {message && <Alert variant=\"success\">{message}</Alert>}\r\n            <Form onSubmit={handleSubmit}>\r\n              <Form.Group className=\"mb-3\" id=\"email\">\r\n                <Form.Label>Email</Form.Label>\r\n                <Form.Control type=\"email\" ref={emailRef} required />\r\n              </Form.Group>\r\n\r\n              <Button\r\n                disabled={loading}\r\n                className=\"w-100\"\r\n                variant=\"primary\"\r\n                type=\"submit\"\r\n              >\r\n                Reset Password\r\n              </Button>\r\n            </Form>\r\n            <div className=\"w-100 text-center mt-3\">\r\n              <Link to=\"/login\">Login</Link>\r\n            </div>\r\n          </Card.Body>\r\n        </Card>\r\n        <div className=\"w-100 text-center mt-2\">\r\n          Need an account? <Link to=\"/signup\"> Sign Up</Link>\r\n        </div>\r\n      </div>\r\n    </Container>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport Card from 'react-bootstrap/Card'\r\n\r\nexport default function AdditionalDetailsCards({ fullPlot }) {\r\n  return (\r\n    <div className=\"additional-details\">\r\n      <Card>\r\n        <Card.Header>Ratings</Card.Header>\r\n        <Card.Body>\r\n          {fullPlot.Ratings &&\r\n            fullPlot.Ratings.map((rating, index) => (\r\n              <Card.Text key={index}>\r\n                {rating.Source} - {rating.Value}\r\n              </Card.Text>\r\n            ))}\r\n        </Card.Body>\r\n      </Card>\r\n\r\n      <Card>\r\n        <Card.Header>Production</Card.Header>\r\n        <Card.Body>\r\n          <Card.Text>Released: {fullPlot.Released}</Card.Text>\r\n          {fullPlot.DVD ? <Card.Text>DVD: {fullPlot.DVD}</Card.Text> : ''}\r\n          {fullPlot.Director ? (\r\n            <Card.Text>Director: {fullPlot.Director}</Card.Text>\r\n          ) : (\r\n            ''\r\n          )}\r\n          <Card.Text>Writer: {fullPlot.Writer}</Card.Text>\r\n          <Card.Text></Card.Text>\r\n        </Card.Body>\r\n      </Card>\r\n\r\n      <Card>\r\n        <Card.Header>Additional Details</Card.Header>\r\n        <Card.Body>\r\n          {fullPlot.BoxOffice ? (\r\n            <Card.Text>\r\n              Box Office (Gross US &#38; Canada): {fullPlot.BoxOffice}\r\n            </Card.Text>\r\n          ) : (\r\n            ''\r\n          )}\r\n          <Card.Text>Awards: {fullPlot.Awards}</Card.Text>\r\n        </Card.Body>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react'\r\nimport { useParams } from 'react-router-dom/cjs/react-router-dom.min'\r\nimport axios from 'axios'\r\nimport './FullPlot.css'\r\nimport { MoviesContext } from '../../contexts/movies-context'\r\nimport 'react-toastify/dist/ReactToastify.css'\r\nimport { useAuth } from '../../contexts/AuthContext'\r\nimport CustomToastContainer from '../CustomToastContainer'\r\nimport AddMovieToMovieListModal from '../Modals/AddMovieToMovieListModal'\r\nimport CustomOverlayTrigger from '../CustomOverlayTrigger'\r\nimport FavoriteMovie from '../FavoriteMovie'\r\nimport FullPlotCards from './FullPlotCards'\r\n\r\nexport const FullPlot = () => {\r\n  const { currentUser } = useAuth()\r\n  const { fullPlotType, fullPlotTitle } = useParams()\r\n  const [fullPlot, setFullPlot] = useState('')\r\n  const { movieLists, setName } = useContext(MoviesContext)\r\n  const [showAddMovieList, setShowAddMovieList] = useState(false)\r\n\r\n  const handleAddMovieListClose = () => {\r\n    setShowAddMovieList(false)\r\n    setName('')\r\n  }\r\n  const handleAddMovieListShow = () => {\r\n    setShowAddMovieList(true)\r\n    setName('')\r\n  }\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\r\n        `https://www.omdbapi.com/?t=${fullPlotTitle}&type=${fullPlotType}&plot=full&apikey=6fe3dbba`,\r\n      )\r\n      .then((res) => {\r\n        const fullPlot = res.data\r\n        setFullPlot(fullPlot)\r\n      })\r\n\r\n      .catch((error) => console.log(error))\r\n  }, [])\r\n\r\n  useEffect(() => {}, [movieLists])\r\n\r\n  return (\r\n    <div className=\"container movie-info\">\r\n      <CustomToastContainer autoClose={2000} />\r\n      <AddMovieToMovieListModal\r\n        showAddMovieList={showAddMovieList}\r\n        handleAddMovieListClose={handleAddMovieListClose}\r\n        currentUser={currentUser}\r\n      />\r\n      <div className=\"info-header\">\r\n        <h1>{fullPlotTitle}</h1>\r\n        <CustomOverlayTrigger\r\n          componentName=\"info\"\r\n          movie={fullPlot}\r\n          handleAddMovieListShow={handleAddMovieListShow}\r\n          currentUser={currentUser}\r\n        />\r\n        <FavoriteMovie\r\n          componentName=\"info\"\r\n          movie={fullPlot}\r\n          currentUser={currentUser}\r\n        />\r\n      </div>\r\n      <div>\r\n        <div className=\"fixed-row text-muted\">\r\n          <div>{fullPlot.Year}</div>\r\n          <span className=\"dot\"></span>\r\n          <div>{fullPlot.Rated}</div>\r\n          <span className=\"dot\"></span>\r\n          <div>{fullPlot.Runtime}</div>\r\n        </div>\r\n\r\n        <div className=\"flex-start\">\r\n          <div className=\"flex-start-left\">\r\n            <img\r\n              className=\"movie-poster\"\r\n              src={\r\n                fullPlot.Poster == 'N/A'\r\n                  ? 'https://2gyntc2a2i9a22ifya16a222-wpengine.netdna-ssl.com/wp-content/uploads/sites/29/2014/12/Image-Not-Available.jpg'\r\n                  : fullPlot.Poster\r\n              }\r\n            />\r\n          </div>\r\n\r\n          <div className=\"flex-start-right\">\r\n            <div className=\"fixed-row imdb\">\r\n              <div>\r\n                <p>IMDb ID: {fullPlot.imdbID}</p>\r\n              </div>\r\n              <span></span>\r\n              <div>\r\n                <p>IMDb Rating: {fullPlot.imdbRating}</p>\r\n              </div>\r\n              <span></span>\r\n              <div>\r\n                <p>IMDb Votes: {fullPlot.imdbVotes}</p>\r\n              </div>\r\n            </div>\r\n\r\n            <div>Actors: </div>\r\n            <p className=\"movie-div\">{fullPlot.Actors}</p>\r\n\r\n            <div>Plot: </div>\r\n            <p className=\"movie-div\">{fullPlot.Plot}</p>\r\n\r\n            <div>Genre: </div>\r\n            <p className=\"movie-div\">{fullPlot.Genre}</p>\r\n\r\n            <div>Language: </div>\r\n            <p className=\"movie-div\">{fullPlot.Language}</p>\r\n\r\n            <div>Country: </div>\r\n            <p className=\"movie-div\">{fullPlot.Country}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <FullPlotCards fullPlot={fullPlot} />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { useRef, useEffect } from 'react'\r\n\r\nexport default function useMounted() {\r\n  const mounted = useRef(false)\r\n\r\n  useEffect(() => {\r\n    mounted.current = true\r\n    return () => {\r\n      mounted.current = false\r\n    }\r\n  }, [])\r\n\r\n  return mounted\r\n}\r\n","import React, { useRef, useState } from 'react'\r\nimport Alert from 'react-bootstrap/Alert'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Card from 'react-bootstrap/Card'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Form from 'react-bootstrap/Form'\r\nimport { FaGoogle } from 'react-icons/fa'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { useAuth } from '../contexts/AuthContext'\r\nimport useMounted from '../hooks/useMounted.js'\r\n\r\nexport default function Login() {\r\n  const emailRef = useRef()\r\n  const passwordRef = useRef()\r\n  const { signInWithGoogle, login } = useAuth()\r\n  const [error, setError] = useState('')\r\n  const [loading, setLoading] = useState(false)\r\n  let history = useHistory()\r\n\r\n  const mounted = useMounted()\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    try {\r\n      setError('')\r\n      setLoading(true)\r\n      await login(emailRef.current.value, passwordRef.current.value)\r\n      history.push('/dashboard')\r\n    } catch (error) {\r\n      console.log(error)\r\n      setError('Failed to log in')\r\n    }\r\n    mounted.current && setLoading(false)\r\n  }\r\n\r\n  return (\r\n    <Container\r\n      className=\"d-flex align-items-center justify-content-center text-align\"\r\n      style={{ minHieght: '100vh' }}\r\n    >\r\n      <div className=\"w-100\" style={{ maxWidth: '400px' }}>\r\n        <h1 className=\"display-4 display-margin\">Log In</h1>\r\n        <Card>\r\n          <Card.Body>\r\n            {error && <Alert variant=\"danger\">{error}</Alert>}\r\n            <Form onSubmit={handleSubmit}>\r\n              <Form.Group className=\"mb-3\" id=\"email\">\r\n                <Form.Label>Email</Form.Label>\r\n                <Form.Control type=\"email\" ref={emailRef} required />\r\n              </Form.Group>\r\n\r\n              <Form.Group className=\"mb-3\" id=\"password\">\r\n                <Form.Label>Password</Form.Label>\r\n                <Form.Control type=\"password\" ref={passwordRef} required />\r\n              </Form.Group>\r\n\r\n              <Button\r\n                disabled={loading}\r\n                className=\"w-100\"\r\n                variant=\"primary\"\r\n                type=\"submit\"\r\n              >\r\n                Log In\r\n              </Button>\r\n            </Form>\r\n            <div className=\"w-100  mt-2 no-underline\">\r\n              <Link to=\"/forgot-password\" className=\"text-muted muted-link\">\r\n                Forgot Password?\r\n              </Link>\r\n            </div>\r\n            <div className=\"w-100 text-center mt-2 strike\">\r\n              <span>OR</span>\r\n            </div>\r\n            <Button\r\n              variant=\"outline-danger\"\r\n              className=\"w-100 mt-3 mb-2\"\r\n              onClick={() =>\r\n                signInWithGoogle()\r\n                  .then(() => history.push('/dashboard'))\r\n                  .catch((e) => console.log(e.message))\r\n              }\r\n            >\r\n              <FaGoogle className=\"google-icon\" />\r\n              Sign in with Google\r\n            </Button>\r\n          </Card.Body>\r\n        </Card>\r\n        <div className=\"w-100 text-center mt-2 no-underline\">\r\n          Need an account? <Link to=\"/signup\"> Sign Up</Link>\r\n        </div>\r\n      </div>\r\n    </Container>\r\n  )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { Container, Nav, Navbar } from 'react-bootstrap'\r\nimport { Link } from 'react-router-dom'\r\nimport { useAuth } from '../contexts/AuthContext'\r\nimport { MoviesContext } from '../contexts/movies-context'\r\n\r\nexport default function MyNavbar() {\r\n  const { setMovies, setTitle } = useContext(MoviesContext)\r\n\r\n  const { currentUser } = useAuth()\r\n\r\n  return (\r\n    <Navbar bg=\"dark\" variant=\"dark\" expand=\"lg\" sticky=\"top\">\r\n      <Container>\r\n        <Navbar.Brand>\r\n          <Link\r\n            to=\"/\"\r\n            onClick={() => {\r\n              setMovies([])\r\n              setTitle('')\r\n            }}\r\n            className=\"header\"\r\n          >\r\n            Movie Finder\r\n          </Link>\r\n        </Navbar.Brand>\r\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n        <Navbar.Collapse id=\"basic-navbar-nav\">\r\n          <Nav className=\"me-auto\">\r\n            <Nav.Link>\r\n              <Link to=\"/\">Search</Link>\r\n            </Nav.Link>\r\n            <Nav.Link>\r\n              <Link to=\"/favorites\">Favorites</Link>\r\n            </Nav.Link>\r\n            <Nav.Link>\r\n              {currentUser == null ? (\r\n                <Link to=\"/login\">Login</Link>\r\n              ) : (\r\n                <Link to=\"/dashboard\">Profile</Link>\r\n              )}\r\n            </Nav.Link>\r\n          </Nav>\r\n        </Navbar.Collapse>\r\n      </Container>\r\n    </Navbar>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport const NotFound = () => {\r\n  return (\r\n    <div className=\"container\">\r\n      <h1 className=\"display-2 not-found-margin-top\">404 Not Found</h1>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\nimport { useAuth } from '../contexts/AuthContext'\r\n\r\nexport default function PrivateRoute({ component: Component, ...rest }) {\r\n  const { currentUser } = useAuth()\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => {\r\n        return currentUser ? <Component {...props} /> : <Redirect to=\"/login\" />\r\n      }}\r\n    ></Route>\r\n  )\r\n}\r\n","import axios from 'axios'\r\nimport React, { useContext, useEffect, useState } from 'react'\r\nimport Pagination from 'react-bootstrap/Pagination'\r\nimport { useHistory } from 'react-router-dom'\r\nimport 'react-toastify/dist/ReactToastify.css'\r\nimport { useAuth } from '../../contexts/AuthContext'\r\nimport { MoviesContext } from '../../contexts/movies-context'\r\nimport CustomOverlayTrigger from '../CustomOverlayTrigger'\r\nimport CustomToastContainer from '../CustomToastContainer'\r\nimport FavoriteMovie from '../FavoriteMovie'\r\nimport AddMovieToMovieListModal from '../Modals/AddMovieToMovieListModal'\r\nimport './Search.css'\r\n\r\nexport const Search = () => {\r\n  const { currentUser } = useAuth()\r\n  const {\r\n    movies,\r\n    setMovies,\r\n    title,\r\n    setTitle,\r\n    favorites,\r\n    movieLists,\r\n    findByTitle,\r\n    setFindByTitle,\r\n    setTotalResults,\r\n    page,\r\n    setPage,\r\n    name,\r\n    setName,\r\n  } = useContext(MoviesContext)\r\n  const [nextPageDisabled, setNextPageDisabled] = useState(false)\r\n\r\n  const [showAddMovieList, setShowAddMovieList] = useState(false)\r\n\r\n  const handleAddMovieListClose = () => {\r\n    setShowAddMovieList(false)\r\n    setName('')\r\n  }\r\n  const handleAddMovieListShow = () => {\r\n    setShowAddMovieList(true)\r\n    setName('')\r\n  }\r\n\r\n  let history = useHistory()\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    setPage(1)\r\n    console.log('Handle submit retrieve')\r\n    retrieveMovies()\r\n  }\r\n\r\n  const retrieveMovies = async () => {\r\n    try {\r\n      axios\r\n        .get(\r\n          `https://www.omdbapi.com/?s=${title}&type=movie&page=${page}&apikey=6fe3dbba`,\r\n        )\r\n        .then((res) => {\r\n          const results = res.data.Search\r\n          const numOfResults = res.data.totalResults\r\n          setMovies(results)\r\n          setTotalResults(numOfResults)\r\n          if (findByTitle !== title) {\r\n            setFindByTitle(title)\r\n          }\r\n          checkForNextPageResults(title)\r\n        })\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n\r\n  function handlePrevPage() {\r\n    const prevPage = page - 1\r\n    setPage(prevPage)\r\n  }\r\n\r\n  function handleNextPage() {\r\n    const nextPage = page + 1\r\n    setPage(nextPage)\r\n  }\r\n\r\n  function checkForNextPageResults(searchTerm) {\r\n    const checkNextPage = page + 1\r\n    axios\r\n      .get(\r\n        `https://www.omdbapi.com/?s=${searchTerm}&type=movie&page=${checkNextPage}&apikey=6fe3dbba`,\r\n      )\r\n      .then((res) => {\r\n        const results = res.data.Search\r\n        console.log(results)\r\n        if (results !== undefined) {\r\n          setNextPageDisabled(false)\r\n        } else {\r\n          setNextPageDisabled(true)\r\n        }\r\n      })\r\n  }\r\n\r\n  useEffect(() => {\r\n    // console.log('Current page: ', page)\r\n    if (findByTitle !== '') {\r\n      retrieveMovies()\r\n    }\r\n  }, [page])\r\n\r\n  useEffect(() => {}, [favorites])\r\n\r\n  useEffect(() => {\r\n    // console.log('Movies: ', movies)\r\n  }, [movies])\r\n\r\n  useEffect(() => {}, [movieLists])\r\n\r\n  useEffect(() => {}, [name])\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h1 className=\"display-4 display-margin\">Search</h1>\r\n      <form id=\"search-form\" onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          name=\"titleName\"\r\n          id=\"search-input\"\r\n          onChange={(e) => setTitle(e.target.value)}\r\n          value={title}\r\n        />\r\n        <button id=\"search-button\" type=\"submit\">\r\n          Search\r\n        </button>\r\n      </form>\r\n\r\n      <CustomToastContainer autoClose={2500} />\r\n\r\n      <AddMovieToMovieListModal\r\n        showAddMovieList={showAddMovieList}\r\n        handleAddMovieListClose={handleAddMovieListClose}\r\n        currentUser={currentUser}\r\n      />\r\n\r\n      <div className=\"movies-container container row row-cols-1 row-cols-sm-2 row-cols-md-2 row-cols-lg-5 row-cols-xl-5 g-4\">\r\n        {movies &&\r\n          movies.map((movie, index) => (\r\n            <div key={index} className=\"col movie-card\">\r\n              <div className=\"card\">\r\n                <CustomOverlayTrigger\r\n                  componentName=\"search\"\r\n                  movie={movie}\r\n                  handleAddMovieListShow={handleAddMovieListShow}\r\n                  currentUser={currentUser}\r\n                />\r\n                <FavoriteMovie\r\n                  componentName=\"search\"\r\n                  movie={movie}\r\n                  currentUser={currentUser}\r\n                />\r\n                <img\r\n                  alt={movie.Title}\r\n                  className=\"card-img-top\"\r\n                  src={\r\n                    movie.Poster == 'N/A'\r\n                      ? 'https://2gyntc2a2i9a22ifya16a222-wpengine.netdna-ssl.com/wp-content/uploads/sites/29/2014/12/Image-Not-Available.jpg'\r\n                      : movie.Poster\r\n                  }\r\n                  onClick={() => {\r\n                    history.push(`/fullPlot/${movie.Type}/${movie.Title}`)\r\n                  }}\r\n                />\r\n                <div\r\n                  className=\"card-body\"\r\n                  onClick={() => {\r\n                    history.push(`/fullPlot/${movie.Type}/${movie.Title}`)\r\n                  }}\r\n                >\r\n                  <p className=\"card-title lead\">{movie.Title}</p>\r\n                  <small className=\"card-text text-muted\">{movie.Year}</small>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        {movies && movies.length > 0 ? (\r\n          <Pagination className=\"pagination\">\r\n            <Pagination.Item\r\n              disabled={page === 1 ? true : false}\r\n              onClick={handlePrevPage}\r\n            >\r\n              Prev\r\n            </Pagination.Item>\r\n            <Pagination.Item>{page}</Pagination.Item>\r\n\r\n            <Pagination.Item\r\n              disabled={nextPageDisabled}\r\n              onClick={handleNextPage}\r\n            >\r\n              Next\r\n            </Pagination.Item>\r\n          </Pagination>\r\n        ) : (\r\n          ''\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useContext, useEffect, useRef, useState } from 'react'\r\nimport Alert from 'react-bootstrap/Alert'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Card from 'react-bootstrap/Card'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Form from 'react-bootstrap/Form'\r\nimport { FaGoogle } from 'react-icons/fa'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { useAuth } from '../../contexts/AuthContext'\r\nimport { MoviesContext } from '../../contexts/movies-context'\r\nimport useMounted from '../../hooks/useMounted.js'\r\nimport updateUserDocument from '../../utils/updateUserDocument'\r\nimport './Signup.css'\r\n\r\nexport const Signup = () => {\r\n  const emailRef = useRef()\r\n  const passwordRef = useRef()\r\n  const passwordConfirmRef = useRef()\r\n  const { signInWithGoogle, signup, currentUser } = useAuth()\r\n  const [error, setError] = useState('')\r\n  const [loading, setLoading] = useState(false)\r\n  let history = useHistory()\r\n\r\n  const { favorites, movieLists } = useContext(MoviesContext)\r\n\r\n  const mounted = useMounted()\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    if (passwordRef.current.value !== passwordConfirmRef.current.value) {\r\n      return setError('Passwords do not match')\r\n    }\r\n\r\n    try {\r\n      setError('')\r\n      setLoading(true)\r\n      await signup(emailRef.current.value, passwordRef.current.value)\r\n      history.push('/dashboard')\r\n    } catch (error) {\r\n      console.log(error)\r\n      setError('Failed to create an account')\r\n    }\r\n    mounted.current && setLoading(false)\r\n  }\r\n\r\n  useEffect(() => {\r\n    // console.log('Add document on not null: ', currentUser)\r\n    if (currentUser != null) {\r\n      updateUserDocument(currentUser, favorites, movieLists)\r\n    }\r\n  }, [currentUser])\r\n\r\n  return (\r\n    <Container\r\n      className=\"d-flex align-items-center justify-content-center text-align\"\r\n      style={{ minHieght: '100vh' }}\r\n    >\r\n      <div className=\"w-100\" style={{ maxWidth: '400px' }}>\r\n        <h1 className=\"display-4 display-margin\">Sign Up</h1>\r\n        <Card>\r\n          <Card.Body>\r\n            {error && <Alert variant=\"danger\">{error}</Alert>}\r\n            <Form onSubmit={handleSubmit}>\r\n              <Form.Group className=\"mb-3\" id=\"email\">\r\n                <Form.Label>Email</Form.Label>\r\n                <Form.Control type=\"email\" ref={emailRef} required />\r\n              </Form.Group>\r\n\r\n              <Form.Group className=\"mb-3\" id=\"password\">\r\n                <Form.Label>Password</Form.Label>\r\n                <Form.Control type=\"password\" ref={passwordRef} required />\r\n              </Form.Group>\r\n\r\n              <Form.Group className=\"mb-3\" id=\"password-confirm\">\r\n                <Form.Label>Password Confirmation</Form.Label>\r\n                <Form.Control\r\n                  type=\"password\"\r\n                  ref={passwordConfirmRef}\r\n                  required\r\n                />\r\n              </Form.Group>\r\n\r\n              <Button\r\n                disabled={loading}\r\n                className=\"w-100  mb-2\"\r\n                variant=\"primary\"\r\n                type=\"submit\"\r\n              >\r\n                Sign Up\r\n              </Button>\r\n            </Form>\r\n            <div className=\"w-100 text-center mt-2 strike\">\r\n              <span>OR</span>\r\n            </div>\r\n            <Button\r\n              variant=\"outline-danger\"\r\n              className=\"w-100 mt-3 mb-2\"\r\n              onClick={() =>\r\n                signInWithGoogle()\r\n                  .then(() => history.push('/dashboard'))\r\n                  .catch((e) => console.log(e.message))\r\n              }\r\n            >\r\n              <FaGoogle className=\"google-icon\" />\r\n              Sign up with Google\r\n            </Button>\r\n          </Card.Body>\r\n        </Card>\r\n        <div className=\"w-100 text-center mt-2 no-underline\">\r\n          Already have an account? <Link to=\"/login\">Login</Link>\r\n        </div>\r\n      </div>\r\n    </Container>\r\n  )\r\n}\r\n","import React, { useRef, useState } from 'react'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Card from 'react-bootstrap/Card'\r\nimport Alert from 'react-bootstrap/Alert'\r\nimport Container from 'react-bootstrap/Container'\r\nimport { useAuth } from '../contexts/AuthContext'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport useMounted from '../hooks/useMounted.js'\r\n\r\nexport default function UpdateProfile() {\r\n  const emailRef = useRef()\r\n  const passwordRef = useRef()\r\n  const passwordConfirmRef = useRef()\r\n  const { currentUser, updateUserEmail, updateUserPassword } = useAuth()\r\n  const [error, setError] = useState('')\r\n  const [loading, setLoading] = useState(false)\r\n  let history = useHistory()\r\n\r\n  const mounted = useMounted()\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    if (passwordRef.current.value !== passwordConfirmRef.current.value) {\r\n      return setError('Passwords do not match')\r\n    }\r\n\r\n    const promises = []\r\n    setLoading(true)\r\n    setError('')\r\n\r\n    if (emailRef.current.value !== currentUser.email) {\r\n      promises.push(updateUserEmail(emailRef.current.value))\r\n    }\r\n\r\n    if (passwordRef.current.value) {\r\n      promises.push(updateUserPassword(passwordRef.current.value))\r\n    }\r\n\r\n    Promise.all(promises)\r\n      .then(() => {\r\n        history.push('/dashboard')\r\n      })\r\n      .catch(() => {\r\n        setError('Failed to update account')\r\n      })\r\n      .finally(() => {\r\n        mounted.current && setLoading(false)\r\n      })\r\n  }\r\n\r\n  return (\r\n    <Container\r\n      className=\"d-flex align-items-center justify-content-center text-align\"\r\n      style={{ minHieght: '100vh' }}\r\n    >\r\n      <div className=\"w-100\" style={{ maxWidth: '400px' }}>\r\n        <h1 className=\"display-4 display-margin\">Update Profile</h1>\r\n        <Card>\r\n          <Card.Body>\r\n            {error && <Alert variant=\"danger\">{error}</Alert>}\r\n            <Form onSubmit={handleSubmit}>\r\n              <Form.Group className=\"mb-3\" id=\"email\">\r\n                <Form.Label>Email</Form.Label>\r\n                <Form.Control\r\n                  type=\"email\"\r\n                  ref={emailRef}\r\n                  required\r\n                  defaultValue={currentUser.email}\r\n                />\r\n              </Form.Group>\r\n\r\n              <Form.Group className=\"mb-3\" id=\"password\">\r\n                <Form.Label>Password</Form.Label>\r\n                <Form.Control\r\n                  type=\"password\"\r\n                  ref={passwordRef}\r\n                  placeholder=\"Leave blank to keep the same\"\r\n                />\r\n              </Form.Group>\r\n\r\n              <Form.Group className=\"mb-3\" id=\"password-confirm\">\r\n                <Form.Label>Password Confirmation</Form.Label>\r\n                <Form.Control\r\n                  type=\"password\"\r\n                  ref={passwordConfirmRef}\r\n                  placeholder=\"Leave blank to keep the same\"\r\n                />\r\n              </Form.Group>\r\n\r\n              <Button\r\n                disabled={loading}\r\n                className=\"w-100\"\r\n                variant=\"primary\"\r\n                type=\"submit\"\r\n              >\r\n                Update\r\n              </Button>\r\n            </Form>\r\n          </Card.Body>\r\n        </Card>\r\n        <div className=\"w-100 text-center mt-2 no-underline\">\r\n          <Link to=\"/dashboard\">Cancel</Link>\r\n        </div>\r\n      </div>\r\n    </Container>\r\n  )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\r\nimport { Redirect } from 'react-router-dom/cjs/react-router-dom.min'\r\nimport { toast } from 'react-toastify'\r\nimport 'react-toastify/dist/ReactToastify.css'\r\nimport './App.css'\r\nimport Dashboard from './components/Dashboard'\r\nimport { Favorites } from './components/Favorites/Favorites'\r\nimport ForgotPassword from './components/ForgotPassword'\r\nimport { FullPlot } from './components/FullPlot/FullPlot'\r\nimport Login from './components/Login'\r\nimport MyNavbar from './components/MyNavbar'\r\nimport { NotFound } from './components/NotFound'\r\nimport PrivateRoute from './components/PrivateRoute'\r\nimport { Search } from './components/Search/Search'\r\nimport { Signup } from './components/Signup/Signup'\r\nimport UpdateProfile from './components/UpdateProfile'\r\nimport { useAuth } from './contexts/AuthContext'\r\nimport { MoviesContext } from './contexts/movies-context'\r\nimport loadUserDocument from './utils/loadUserDocument'\r\n\r\nfunction App() {\r\n  const [movies, setMovies] = useState([])\r\n  const [title, setTitle] = useState('')\r\n  const [favorites, setFavorites] = useState([])\r\n  const [movieLists, setMovieLists] = useState([])\r\n  const [totalResults, setTotalResults] = useState(0)\r\n  const [findByTitle, setFindByTitle] = useState('')\r\n  const [page, setPage] = useState(1)\r\n  const [name, setName] = useState('')\r\n  const [currentMovie, setCurrentMovie] = useState({})\r\n\r\n  useEffect(() => {\r\n    if (movies && movies.length > 0 && totalResults > 0) {\r\n      notifyFoundResults(title, totalResults)\r\n    } else if (\r\n      title &&\r\n      title.length > 0 &&\r\n      movies == undefined &&\r\n      totalResults == undefined\r\n    ) {\r\n      notifyNoResults(title)\r\n    }\r\n  }, [findByTitle])\r\n\r\n  const notifyNoResults = (movieTitle) =>\r\n    toast.error(\r\n      'No results found for ' +\r\n        movieTitle +\r\n        '. Enter a different search term and try again.',\r\n    )\r\n  const notifyFoundResults = (movieTitle, totalResultsNum) =>\r\n    toast.success(\r\n      'Found ' + totalResultsNum + ' results found for ' + movieTitle,\r\n    )\r\n\r\n  const { currentUser } = useAuth()\r\n\r\n  useEffect(() => {\r\n    if (currentUser && currentUser != null) {\r\n      loadUserDocument(currentUser, setFavorites, setMovieLists)\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <Router>\r\n      <MoviesContext.Provider\r\n        value={{\r\n          movies,\r\n          setMovies,\r\n          title,\r\n          setTitle,\r\n          favorites,\r\n          setFavorites,\r\n          movieLists,\r\n          setMovieLists,\r\n          findByTitle,\r\n          setFindByTitle,\r\n          setTotalResults,\r\n          page,\r\n          setPage,\r\n          name,\r\n          setName,\r\n          currentMovie,\r\n          setCurrentMovie,\r\n        }}\r\n      >\r\n        <div className=\"App\">\r\n          <MyNavbar />\r\n          <Switch>\r\n            <Route exact path=\"/\">\r\n              <Search />\r\n            </Route>\r\n            <Route exact path=\"/fullplot/:fullPlotType/:fullPlotTitle\">\r\n              <FullPlot />\r\n            </Route>\r\n            <Route exact path=\"/favorites\">\r\n              <Favorites />\r\n            </Route>\r\n            <Route exact path=\"/signup\">\r\n              {currentUser != null ? <Redirect to=\"/dashboard\" /> : <Signup />}\r\n            </Route>\r\n            <Route exact path=\"/login\">\r\n              {currentUser != null ? <Redirect to=\"/dashboard\" /> : <Login />}\r\n            </Route>\r\n            <Route exact path=\"/forgot-password\">\r\n              <ForgotPassword />\r\n            </Route>\r\n            <PrivateRoute\r\n              exact\r\n              path=\"/dashboard\"\r\n              component={Dashboard}\r\n            ></PrivateRoute>\r\n            <PrivateRoute\r\n              exact\r\n              path=\"/update-profile\"\r\n              component={UpdateProfile}\r\n            ></PrivateRoute>\r\n            <Route>\r\n              <NotFound />\r\n            </Route>\r\n          </Switch>\r\n        </div>\r\n      </MoviesContext.Provider>\r\n    </Router>\r\n  )\r\n}\r\n\r\nexport default App\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './App'\r\nimport reportWebVitals from './reportWebVitals'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport { AuthProvider } from './contexts/AuthContext'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <AuthProvider>\r\n      <App />\r\n    </AuthProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n)\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals()\r\n"],"sourceRoot":""}