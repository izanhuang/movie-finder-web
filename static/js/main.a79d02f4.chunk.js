(this["webpackJsonpmovie-finder-web"]=this["webpackJsonpmovie-finder-web"]||[]).push([[0],{126:function(e,t,c){},127:function(e,t,c){},137:function(e,t,c){},155:function(e,t,c){},158:function(e,t,c){},159:function(e,t,c){},161:function(e,t,c){"use strict";c.r(t);var n=c(2),s=c.n(n),a=c(35),i=c.n(a),r=(c(126),c(10)),o=c(26),l=c(27),j=c(81),d=c(54),u=(c(85),c(127),c(1)),b=c.n(u),O=c(8),h=c(5),m=c(44),x=c(30),f=c(20),v=c(18),p=c(50),g=c(43),y=c(116),N=Object(y.a)({apiKey:"AIzaSyBj9BGFRSlM8JnHwBBjnrjmWcHAId3C7mU",authDomain:"movie-finder-dev-945d7.firebaseapp.com",projectId:"movie-finder-dev-945d7",storageBucket:"movie-finder-dev-945d7.appspot.com",messagingSenderId:"1020843139537",appId:"1:1020843139537:web:75db232ecdaa8d6d1c40f0"}),w=Object(g.c)(N),C=Object(m.c)(),L=c(3),k=s.a.createContext();function S(){return Object(n.useContext)(k)}function M(e){var t=e.children,c=Object(n.useState)(),s=Object(r.a)(c,2),a=s[0],i=s[1],o=Object(n.useState)(!0),l=Object(r.a)(o,2),j=l[0],d=l[1];Object(n.useEffect)((function(){return Object(g.d)(w,(function(e){i(e),d(!1)}))}),[]),Object(n.useEffect)((function(){console.log("The user is",a)}),[a]);var u={currentUser:a,signup:function(e,t){return Object(g.b)(w,e,t)},login:function(e,t){return Object(g.f)(w,e,t)},logout:function(){return Object(g.h)(w)},resetPassword:function(e){return Object(g.e)(w,e)},updateUserEmail:function(e){return Object(g.i)(w.currentUser,e)},updateUserPassword:function(e){return Object(g.j)(w.currentUser,e)},signInWithGoogle:function(){var e=new g.a;return Object(g.g)(w,e)}};return Object(L.jsx)(k.Provider,{value:u,children:!j&&t})}var T=s.a.createContext(),P=c(17);function U(e,t,c){Object(m.d)(Object(m.a)(C,"UserMovieLists"),(function(n){console.log("Load user document"),t.apply(void 0,Object(P.a)(n.docs.map((function(e){return Object(O.a)(Object(O.a)({},e.data()),{},{id:e.id})})).filter((function(t){return t.id==e.uid})).map((function(e){return e.favorites})))),c.apply(void 0,Object(P.a)(n.docs.map((function(e){return Object(O.a)(Object(O.a)({},e.data()),{},{id:e.id})})).filter((function(t){return t.id==e.uid})).map((function(e){return e.movieLists}))))}))}function B(e,t,c){return I.apply(this,arguments)}function I(){return(I=Object(h.a)(b.a.mark((function e(t,c,n){var s,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Object(m.b)(C,"UserMovieLists",t.uid),a={favorites:c,movieLists:n},e.next=4,Object(m.e)(s,a);case 4:console.log("Updated doc");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){var e=Object(n.useState)(""),t=Object(r.a)(e,2),c=t[0],s=t[1],a=S(),i=a.currentUser,j=a.logout,d=Object(n.useContext)(T),u=d.setMovieLists,g=d.setFavorites,y=d.favorites,N=d.movieLists,w=Object(l.useHistory)();function k(){return(k=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(""),e.prev=1,e.next=4,j();case 4:g([]),u([]),w.push("/login"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),s("Failed to log out");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){null!=i&&Object(m.d)(Object(m.a)(C,"UserMovieLists"),(function(e){0==e.docs.map((function(e){return Object(O.a)(Object(O.a)({},e.data()),{},{id:e.id})})).some((function(e){return e.id==i.uid}))?B(i,y,N):U(i,g,u)}))}),[i]),Object(L.jsx)(p.a,{className:"d-flex align-items-center justify-content-center text-align",style:{minHieght:"100vh"},children:Object(L.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(L.jsx)("h1",{className:"display-4 display-margin",children:"Profile"}),Object(L.jsx)(v.a,{children:Object(L.jsxs)(v.a.Body,{children:[c&&Object(L.jsx)(x.a,{variant:"danger",children:c}),Object(L.jsx)("strong",{children:"Email: "}),i.email,Object(L.jsx)(o.b,{to:"/update-profile",className:"btn btn-primary w-100 mt-3",children:"Update Profile"})]})}),Object(L.jsx)("div",{className:"w-100 text-center mt-2",children:Object(L.jsx)(f.a,{variant:"link",className:"logout-button",onClick:function(){!function(){k.apply(this,arguments)}()},children:"Log Out"})})]})})}var R=c(55),A=c(49);function D(e,t,c,n,s,a,i){var r,o;c[c.length]={name:e,list:[t]},n(Object(P.a)(c)),null!=a&&B(a,i,c),r=t.Title,o=e,d.b.success("Created "+o+" and added "+r),s("")}function F(e,t,c,n,s,a){var i,r,o=c.findIndex((function(t){return t==e}));c[o].list.some((function(e){return e.imdbID==t.imdbID}))?(t.Title,i=e.name,d.b.warn("Already exists in "+i)):(c[o].list=[].concat(Object(P.a)(c[o].list),[t]),n(Object(P.a)(c)),null!=s&&B(s,a,c),r=t.Title,e.name,d.b.success("Added "+r))}function H(e,t,c,n,s,a){var i,r=c.findIndex((function(t){return t==e})),o=c[r].list.filter((function(e){return e.imdbID!==t.imdbID}));c[r].list=o,n(Object(P.a)(c)),null!=s&&B(s,a,c),i=t.Title,e.name,d.b.success("Removed "+i)}var G=c(120),Y=c(66);function W(e){var t=e.componentName,c=e.movie,s=e.handleAddMovieListShow,a=e.currentUser,i=Object(n.useContext)(T),r=i.favorites,o=i.movieLists,l=i.setMovieLists,j=i.setName,d=i.setCurrentMovie;return Object(L.jsx)(G.a,{trigger:"click",placement:"bottom-start",rootClose:!0,overlay:Object(L.jsxs)(Y.a,{id:"popover-positioned-bottom-start",children:[Object(L.jsx)(Y.a.Header,{as:"h3",children:"Add to movie list"}),Object(L.jsx)(Y.a.Body,{className:"popover-button",children:Object(L.jsx)(f.a,{variant:"dark",className:"custom-button",onClick:function(){document.body.click(),d(c),s()},children:"New movie list"})}),o.map((function(e,t){return Object(L.jsx)(Y.a.Body,{onClick:function(){j(e.name),F(e,c,o,l,a,r)},children:e.name},t)}))]}),children:Object(L.jsx)("button",{className:"search"==t?"search-add-to-list card-icons":"favorites"==t?"add-to-list card-icons":"info-add-to-list info-card-icons",children:Object(L.jsx)(A.e,{})})},"bottom-start")}function q(e){var t=e.autoClose;return Object(L.jsx)(d.a,{position:"bottom-center",pauseOnFocusLoss:!1,autoClose:t,limit:3,className:"smaller-font"})}function V(e){var t=e.componentName,c=e.movie,s=e.currentUser,a=Object(n.useContext)(T),i=a.favorites,r=a.setFavorites,o=a.movieLists;a.setMovieLists;return Object(L.jsxs)("div",{children:[Object(L.jsx)(A.f,{className:"info"==t?"info-star info-card-icons":"search-star card-icons",style:{display:i.some((function(e){return e.Poster===c.Poster&&e.Title===c.Title&&e.Year===c.Year}))?"none":"block"},onClick:function(){if(!i.some((function(e){return e.Poster===c.Poster&&e.Title===c.Title&&e.Year===c.Year}))){var e=[].concat(Object(P.a)(i),[c]);r(e),null!=s&&B(s,e,o)}}}),Object(L.jsx)(A.a,{className:"info"==t?"info-star info-card-icons gold-fill":"star card-icons gold-fill",style:{display:i.some((function(e){return e.Poster===c.Poster&&e.Title===c.Title&&e.Year===c.Year}))?"block":"none"},onClick:function(){var e=i.filter((function(e){return e.imdbID!==c.imdbID}));r(e),null!=s&&B(s,e,o)}})]})}var K=c(21);function J(e){var t=e.showAddMovieList,c=e.handleAddMovieListClose,s=e.currentUser,a=Object(n.useContext)(T),i=a.movieLists,r=a.setMovieLists,o=a.name,l=a.setName,j=a.currentMovie,d=a.favorites;return Object(L.jsxs)(K.a,{show:t,onHide:c,children:[Object(L.jsx)(K.a.Header,{closeButton:!0,children:Object(L.jsx)(K.a.Title,{children:"Give your movie list a name."})}),Object(L.jsx)(K.a.Body,{children:Object(L.jsx)("input",{value:o,onChange:function(e){return l(e.target.value)},onKeyDown:function(e){"Enter"==e.key&&""!==o&&(D(o,j,i,r,l,s,d),c())}})}),Object(L.jsx)(K.a.Body,{className:"no-padding-top",style:{display:i.some((function(e){return e.name==o}))?"block":"none"},children:"This movie list already exists."}),Object(L.jsx)(K.a.Footer,{children:Object(L.jsx)(f.a,{variant:"primary",onClick:function(){D(o,j,i,r,l,s,d),c()},disabled:i.some((function(e){return e.name==o})),children:"Create"})})]})}function z(e){var t=e.showFavoritesClear,c=e.handleCloseFavoritesClear,s=e.currentUser,a=Object(n.useContext)(T),i=a.setFavorites,r=a.movieLists;return Object(L.jsxs)(K.a,{show:t,onHide:c,children:[Object(L.jsx)(K.a.Header,{closeButton:!0,children:Object(L.jsx)(K.a.Title,{children:"Clear favorites list"})}),Object(L.jsx)(K.a.Body,{children:"Are you sure you want to clear your favorites list?"}),Object(L.jsxs)(K.a.Footer,{children:[Object(L.jsx)(f.a,{variant:"secondary",onClick:c,children:"No"}),Object(L.jsx)(f.a,{variant:"primary",onClick:function(){i([]),null!=s&&B(s,[],r),c()},children:"Yes"})]})]})}function Q(e){var t=e.showMovieListsClear,c=e.handleCloseMovieListsClear,s=e.currentMovieListName,a=e.currentUser,i=Object(n.useContext)(T),r=i.favorites,o=i.movieLists,l=i.setMovieLists;return Object(L.jsxs)(K.a,{show:t,onHide:c,children:[Object(L.jsx)(K.a.Header,{closeButton:!0,children:Object(L.jsx)(K.a.Title,{children:"Clear movie list"})}),Object(L.jsxs)(K.a.Body,{children:["Are you sure you want to clear ",s,"?"]}),Object(L.jsxs)(K.a.Footer,{children:[Object(L.jsx)(f.a,{variant:"secondary",onClick:c,children:"No"}),Object(L.jsx)(f.a,{variant:"primary",onClick:function(){var e=o.findIndex((function(e){return e.name==s}));o[e].list=[],l(Object(P.a)(o)),null!=a&&B(a,r,o),c()},children:"Yes"})]})]})}function X(e){var t=e.showMovieListsDelete,c=e.handleCloseMovieListsDelete,s=e.currentMovieListName,a=e.currentUser,i=Object(n.useContext)(T),r=i.favorites,o=i.movieLists,l=i.setMovieLists;return Object(L.jsxs)(K.a,{show:t,onHide:c,children:[Object(L.jsx)(K.a.Header,{closeButton:!0,children:Object(L.jsx)(K.a.Title,{children:"Delete movie list"})}),Object(L.jsxs)(K.a.Body,{children:["Are you sure you want to delete ",s,"?"]}),Object(L.jsxs)(K.a.Footer,{children:[Object(L.jsx)(f.a,{variant:"secondary",onClick:c,children:"No"}),Object(L.jsx)(f.a,{variant:"primary",onClick:function(){var e=o.filter((function(e){return e.name!==s}));l(Object(P.a)(e)),null!=a&&B(a,r,Object(P.a)(e)),c()},children:"Yes"})]})]})}function Z(e){var t=e.showEditMovieLists,c=e.handleShowEditMovieLists,s=e.handleCloseEditMovieLists,a=e.editCurrentMovieListName,i=e.setEditCurrentMovieListName,r=e.movielist,o=e.currentMovieListName,l=e.currentUser,j=Object(n.useContext)(T),d=j.movieLists,u=j.setMovieLists,b=j.favorites;return Object(L.jsxs)(K.a,{show:t,onHide:s,children:[Object(L.jsx)(K.a.Header,{closeButton:!0,children:Object(L.jsx)(K.a.Title,{children:"Edit movie list name"})}),Object(L.jsx)(K.a.Body,{children:Object(L.jsx)("input",{value:a,onChange:function(e){return i(e.target.value)},onKeyDown:function(e){if("Enter"==e.key&&""!==a){c(r.name);var t=d.findIndex((function(e){return e.name==o}));d[t].name=a,u(Object(P.a)(d)),null!=l&&B(l,b,d),s()}}})}),Object(L.jsx)(K.a.Body,{className:"no-padding-top",style:{display:d.some((function(e){return e.name==a}))?"block":"none"},children:"This movie list name already exists."}),Object(L.jsx)(K.a.Footer,{children:Object(L.jsx)(f.a,{variant:"primary",onClick:function(){if(""!==a){var e=d.findIndex((function(e){return e.name==o}));d[e].name=a,u(Object(P.a)(d)),s()}},disabled:d.some((function(e){return e.name==a})),children:"Confirm"})})]})}c(137);var $=function(){var e=S().currentUser,t=Object(n.useContext)(T),c=t.favorites,s=t.setFavorites,a=t.movieLists,i=t.setMovieLists,j=t.name,d=t.setName,u=Object(n.useState)(["0"]),b=Object(r.a)(u,2),O=b[0],h=b[1],m=Object(n.useState)(""),p=Object(r.a)(m,2),g=p[0],y=p[1],N=Object(n.useState)(!1),w=Object(r.a)(N,2),C=w[0],k=w[1],M=Object(n.useState)(!1),U=Object(r.a)(M,2),I=U[0],E=U[1],D=function(){return E(!1)},F=Object(n.useState)(!1),G=Object(r.a)(F,2),Y=G[0],K=G[1],$=function(){return K(!1)},_=Object(n.useState)(!1),ee=Object(r.a)(_,2),te=ee[0],ce=ee[1],ne=function(){ce(!0),d("")},se=Object(n.useState)(!1),ae=Object(r.a)(se,2),ie=ae[0],re=ae[1],oe=function(){re(!1),y(""),be("")},le=function(e){re(!0),y(e)},je=Object(n.useState)(""),de=Object(r.a)(je,2),ue=de[0],be=de[1],Oe=Object(l.useHistory)();return Object(n.useEffect)((function(){}),[c]),Object(n.useEffect)((function(){}),[O]),Object(n.useEffect)((function(){}),[g]),Object(n.useEffect)((function(){}),[a]),Object(n.useEffect)((function(){}),[j]),Object(L.jsxs)("div",{className:"container favorites-container",children:[Object(L.jsx)("h1",{className:"display-4 display-margin",children:"Favorites"}),Object(L.jsx)(q,{autoClose:2e3}),Object(L.jsx)(J,{showAddMovieList:te,handleAddMovieListClose:function(){ce(!1),d("")},currentUser:e}),null==e&&Object(L.jsxs)(x.a,{variant:"info",className:"align-left",children:[Object(L.jsx)(o.b,{to:"/signup",children:"Create an account"})," to save your favorites and movie list(s)."]}),Object(L.jsxs)(R.a,{defaultActiveKey:O,alwaysOpen:!0,children:[Object(L.jsxs)(R.a.Item,{eventKey:"0",children:[Object(L.jsx)(R.a.Header,{onClick:function(){var e=[];e=O.some((function(e){return"0"===e}))?O.filter((function(e){return"0"!==e})):[].concat(Object(P.a)(O),["0"]),h(e)},children:"Favorites"}),c&&0==c.length?Object(L.jsx)(R.a.Body,{children:Object(L.jsxs)(x.a,{variant:"light",className:"align-left",children:[Object(L.jsx)(x.a.Heading,{children:"Hey, nice to see you"}),Object(L.jsx)("hr",{}),Object(L.jsxs)("p",{className:"mb-0",children:["\u2b50 ",Object(L.jsx)(x.a.Link,{href:"/",children:"Star"})," movies to add them to your favorites!"]})]})}):Object(L.jsx)(R.a.Body,{children:Object(L.jsxs)("div",{className:"favorites-mapping-container",children:[c.map((function(t,n){return Object(L.jsxs)(v.a,{className:"favorite-card col-6 col-xs-6 col-sm-5",children:[Object(L.jsx)(v.a.Img,{src:"N/A"==t.Poster?"https://2gyntc2a2i9a22ifya16a222-wpengine.netdna-ssl.com/wp-content/uploads/sites/29/2014/12/Image-Not-Available.jpg":t.Poster,onClick:function(){Oe.push("/fullPlot/".concat(t.Type,"/").concat(t.Title))}}),console.log(t.Poster),Object(L.jsx)(W,{componentName:"favorites",movie:t,handleAddMovieListShow:ne,currentUser:e}),Object(L.jsx)("div",{children:Object(L.jsx)(A.a,{className:"star card-icons gold-fill",style:{display:"block"},onClick:function(){var n=c.filter((function(e){return e.imdbID!==t.imdbID}));s(n),null!=e&&B(e,n,a)}})}),Object(L.jsx)(v.a.Body,{onClick:function(){Oe.push("/fullPlot/".concat(t.Type,"/").concat(t.Title))},children:Object(L.jsxs)(v.a.Title,{children:[t.Title," (",t.Year,")"]})})]},n)})),Object(L.jsx)("div",{className:"floating-buttons",children:Object(L.jsxs)(f.a,{variant:"outline-dark",className:"float-left custom-button",onClick:function(){return k(!0)},children:[Object(L.jsx)(A.b,{})," Clear"]})}),Object(L.jsx)(z,{showFavoritesClear:C,handleCloseFavoritesClear:function(){return k(!1)},currentUser:e})]})})]}),a.map((function(t,n){return Object(L.jsxs)(R.a.Item,{eventKey:(n+1).toString(),children:[Object(L.jsx)(R.a.Header,{onClick:function(){var e=[];e=O.some((function(e){return e===(n+1).toString()}))?O.filter((function(e){return e!==(n+1).toString()})):[].concat(Object(P.a)(O),[(n+1).toString()]),h(e)},children:t.name}),t&&0===t.list.length?Object(L.jsx)(R.a.Body,{children:Object(L.jsx)(x.a,{variant:"light",className:"align-left",children:Object(L.jsxs)("p",{className:"mb-0",children:["\u2795 ",Object(L.jsx)(x.a.Link,{href:"/",children:"Add"})," movies to this list!"]})})}):Object(L.jsx)(R.a.Body,{children:Object(L.jsxs)("div",{className:"favorites-mapping-container",children:[t.list.map((function(n,s){return Object(L.jsxs)(v.a,{className:"favorite-card col-6 col-xs-6 col-sm-5",children:[Object(L.jsx)(v.a.Img,{src:"N/A"==n.Poster?"https://2gyntc2a2i9a22ifya16a222-wpengine.netdna-ssl.com/wp-content/uploads/sites/29/2014/12/Image-Not-Available.jpg":n.Poster,onClick:function(){Oe.push("/fullPlot/".concat(n.Type,"/").concat(n.Title))}}),Object(L.jsx)(W,{componentName:"favorites",movie:n,handleAddMovieListShow:ne,currentUser:e}),Object(L.jsx)(A.d,{className:"card-icons remove-movie",onClick:function(){H(t,n,a,i,e,c)}}),Object(L.jsx)(V,{componentName:"favorites",movie:n,currentUser:e}),Object(L.jsx)(v.a.Body,{onClick:function(){Oe.push("/fullPlot/".concat(n.Type,"/").concat(n.Title))},children:Object(L.jsxs)(v.a.Title,{children:[n.Title," (",n.Year,")"]})})]},s)})),Object(L.jsxs)("div",{className:"floating-buttons",children:[Object(L.jsxs)(f.a,{variant:"outline-dark",className:"float-left custom-button margin-right",onClick:function(){var e;e=t.name,E(!0),y(e)},children:[Object(L.jsx)(A.b,{})," Clear"]}),Object(L.jsx)(f.a,{variant:"link",className:"float-left no-styling",onClick:function(){var e;e=t.name,K(!0),y(e)},children:"Delete"}),Object(L.jsxs)(f.a,{variant:"dark",className:"float-right custom-button",onClick:function(){le(t.name)},children:[Object(L.jsx)(A.c,{})," Edit Name"]})]}),Object(L.jsx)(Q,{showMovieListsClear:I,handleCloseMovieListsClear:D,currentMovieListName:g,currentUser:e}),Object(L.jsx)(X,{showMovieListsDelete:Y,handleCloseMovieListsDelete:$,currentMovieListName:g,currentUser:e}),Object(L.jsx)(Z,{showEditMovieLists:ie,handleShowEditMovieLists:le,handleCloseEditMovieLists:oe,editCurrentMovieListName:ue,setEditCurrentMovieListName:be,movielist:t,currentMovieListName:g,currentUser:e})]})})]})}))]})]})},_=c(19);function ee(){var e=Object(n.useRef)(),t=S().resetPassword,c=Object(n.useState)(""),s=Object(r.a)(c,2),a=s[0],i=s[1],l=Object(n.useState)(!1),j=Object(r.a)(l,2),d=j[0],u=j[1],O=Object(n.useState)(""),m=Object(r.a)(O,2),g=m[0],y=m[1];function N(){return(N=Object(h.a)(b.a.mark((function c(n){return b.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n.preventDefault(),c.prev=1,y(""),i(""),u(!0),c.next=7,t(e.current.value);case 7:y("Check your inbox for further instructions"),c.next=14;break;case 10:c.prev=10,c.t0=c.catch(1),console.log(c.t0),i("Failed to reset password");case 14:u(!1);case 15:case"end":return c.stop()}}),c,null,[[1,10]])})))).apply(this,arguments)}return Object(L.jsx)(p.a,{className:"d-flex align-items-center justify-content-center text-align",style:{minHieght:"100vh"},children:Object(L.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(L.jsx)("h1",{className:"display-4 display-margin",children:"Password Reset"}),Object(L.jsx)(v.a,{children:Object(L.jsxs)(v.a.Body,{children:[a&&Object(L.jsx)(x.a,{variant:"danger",children:a}),g&&Object(L.jsx)(x.a,{variant:"success",children:g}),Object(L.jsxs)(_.a,{onSubmit:function(e){return N.apply(this,arguments)},children:[Object(L.jsxs)(_.a.Group,{className:"mb-3",id:"email",children:[Object(L.jsx)(_.a.Label,{children:"Email"}),Object(L.jsx)(_.a.Control,{type:"email",ref:e,required:!0})]}),Object(L.jsx)(f.a,{disabled:d,className:"w-100",variant:"primary",type:"submit",children:"Reset Password"})]}),Object(L.jsx)("div",{className:"w-100 text-center mt-3",children:Object(L.jsx)(o.b,{to:"/login",children:"Login"})})]})}),Object(L.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(L.jsx)(o.b,{to:"/signup",children:" Sign Up"})]})]})})}var te=c(80),ce=c.n(te);c(155);function ne(e){var t=e.fullPlot;return Object(L.jsxs)("div",{className:"additional-details",children:[Object(L.jsxs)(v.a,{children:[Object(L.jsx)(v.a.Header,{children:"Ratings"}),Object(L.jsx)(v.a.Body,{children:t.Ratings&&t.Ratings.map((function(e,t){return Object(L.jsxs)(v.a.Text,{children:[e.Source," - ",e.Value]},t)}))})]}),Object(L.jsxs)(v.a,{children:[Object(L.jsx)(v.a.Header,{children:"Production"}),Object(L.jsxs)(v.a.Body,{children:[Object(L.jsxs)(v.a.Text,{children:["Released: ",t.Released]}),t.DVD?Object(L.jsxs)(v.a.Text,{children:["DVD: ",t.DVD]}):"",t.Director?Object(L.jsxs)(v.a.Text,{children:["Director: ",t.Director]}):"",Object(L.jsxs)(v.a.Text,{children:["Writer: ",t.Writer]}),Object(L.jsx)(v.a.Text,{})]})]}),Object(L.jsxs)(v.a,{children:[Object(L.jsx)(v.a.Header,{children:"Additional Details"}),Object(L.jsxs)(v.a.Body,{children:[t.BoxOffice?Object(L.jsxs)(v.a.Text,{children:["Box Office (Gross US & Canada): ",t.BoxOffice]}):"",Object(L.jsxs)(v.a.Text,{children:["Awards: ",t.Awards]})]})]})]})}var se=function(){var e=S().currentUser,t=Object(j.useParams)(),c=t.fullPlotType,s=t.fullPlotTitle,a=Object(n.useState)(""),i=Object(r.a)(a,2),o=i[0],l=i[1],d=Object(n.useContext)(T),u=d.movieLists,b=d.setName,O=Object(n.useState)(!1),h=Object(r.a)(O,2),m=h[0],x=h[1];return Object(n.useEffect)((function(){ce.a.get("https://www.omdbapi.com/?t=".concat(s,"&type=").concat(c,"&plot=full&apikey=6fe3dbba")).then((function(e){var t=e.data;l(t)})).catch((function(e){return console.log(e)}))}),[]),Object(n.useEffect)((function(){}),[u]),Object(L.jsxs)("div",{className:"container movie-info",children:[Object(L.jsx)(q,{autoClose:2e3}),Object(L.jsx)(J,{showAddMovieList:m,handleAddMovieListClose:function(){x(!1),b("")},currentUser:e}),Object(L.jsxs)("div",{className:"info-header",children:[Object(L.jsx)("h1",{children:s}),Object(L.jsx)(W,{componentName:"info",movie:o,handleAddMovieListShow:function(){x(!0),b("")},currentUser:e}),Object(L.jsx)(V,{componentName:"info",movie:o,currentUser:e})]}),Object(L.jsxs)("div",{children:[Object(L.jsxs)("div",{className:"fixed-row text-muted",children:[Object(L.jsx)("div",{children:o.Year}),Object(L.jsx)("span",{className:"dot"}),Object(L.jsx)("div",{children:o.Rated}),Object(L.jsx)("span",{className:"dot"}),Object(L.jsx)("div",{children:o.Runtime})]}),Object(L.jsxs)("div",{className:"flex-start",children:[Object(L.jsx)("div",{className:"flex-start-left",children:Object(L.jsx)("img",{className:"movie-poster",src:"N/A"==o.Poster?"https://2gyntc2a2i9a22ifya16a222-wpengine.netdna-ssl.com/wp-content/uploads/sites/29/2014/12/Image-Not-Available.jpg":o.Poster})}),Object(L.jsxs)("div",{className:"flex-start-right",children:[Object(L.jsxs)("div",{className:"fixed-row imdb",children:[Object(L.jsx)("div",{children:Object(L.jsxs)("p",{children:["IMDb ID: ",o.imdbID]})}),Object(L.jsx)("span",{}),Object(L.jsx)("div",{children:Object(L.jsxs)("p",{children:["IMDb Rating: ",o.imdbRating]})}),Object(L.jsx)("span",{}),Object(L.jsx)("div",{children:Object(L.jsxs)("p",{children:["IMDb Votes: ",o.imdbVotes]})})]}),Object(L.jsx)("div",{children:"Actors: "}),Object(L.jsx)("p",{className:"movie-div",children:o.Actors}),Object(L.jsx)("div",{children:"Plot: "}),Object(L.jsx)("p",{className:"movie-div",children:o.Plot}),Object(L.jsx)("div",{children:"Genre: "}),Object(L.jsx)("p",{className:"movie-div",children:o.Genre}),Object(L.jsx)("div",{children:"Language: "}),Object(L.jsx)("p",{className:"movie-div",children:o.Language}),Object(L.jsx)("div",{children:"Country: "}),Object(L.jsx)("p",{className:"movie-div",children:o.Country})]})]}),Object(L.jsx)(ne,{fullPlot:o})]})]})},ae=c(99);function ie(){var e=Object(n.useRef)(!1);return Object(n.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),e}function re(){var e=Object(n.useRef)(),t=Object(n.useRef)(),c=S(),s=c.signInWithGoogle,a=c.login,i=Object(n.useState)(""),j=Object(r.a)(i,2),d=j[0],u=j[1],O=Object(n.useState)(!1),m=Object(r.a)(O,2),g=m[0],y=m[1],N=Object(l.useHistory)(),w=ie();function C(){return(C=Object(h.a)(b.a.mark((function c(n){return b.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n.preventDefault(),c.prev=1,u(""),y(!0),c.next=6,a(e.current.value,t.current.value);case 6:N.push("/dashboard"),c.next=13;break;case 9:c.prev=9,c.t0=c.catch(1),console.log(c.t0),u("Failed to log in");case 13:w.current&&y(!1);case 14:case"end":return c.stop()}}),c,null,[[1,9]])})))).apply(this,arguments)}return Object(L.jsx)(p.a,{className:"d-flex align-items-center justify-content-center text-align",style:{minHieght:"100vh"},children:Object(L.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(L.jsx)("h1",{className:"display-4 display-margin",children:"Log In"}),Object(L.jsx)(v.a,{children:Object(L.jsxs)(v.a.Body,{children:[d&&Object(L.jsx)(x.a,{variant:"danger",children:d}),Object(L.jsxs)(_.a,{onSubmit:function(e){return C.apply(this,arguments)},children:[Object(L.jsxs)(_.a.Group,{className:"mb-3",id:"email",children:[Object(L.jsx)(_.a.Label,{children:"Email"}),Object(L.jsx)(_.a.Control,{type:"email",ref:e,required:!0})]}),Object(L.jsxs)(_.a.Group,{className:"mb-3",id:"password",children:[Object(L.jsx)(_.a.Label,{children:"Password"}),Object(L.jsx)(_.a.Control,{type:"password",ref:t,required:!0})]}),Object(L.jsx)(f.a,{disabled:g,className:"w-100",variant:"primary",type:"submit",children:"Log In"})]}),Object(L.jsx)("div",{className:"w-100  mt-2 no-underline",children:Object(L.jsx)(o.b,{to:"/forgot-password",className:"text-muted muted-link",children:"Forgot Password?"})}),Object(L.jsx)("div",{className:"w-100 text-center mt-2 strike",children:Object(L.jsx)("span",{children:"OR"})}),Object(L.jsxs)(f.a,{variant:"outline-danger",className:"w-100 mt-3 mb-2",onClick:function(){return s().then((function(){return N.push("/dashboard")})).catch((function(e){return console.log(e.message)}))},children:[Object(L.jsx)(ae.a,{className:"google-icon"}),"Sign in with Google"]})]})}),Object(L.jsxs)("div",{className:"w-100 text-center mt-2 no-underline",children:["Need an account? ",Object(L.jsx)(o.b,{to:"/signup",children:" Sign Up"})]})]})})}var oe=c(167),le=c(168);function je(){var e=Object(n.useContext)(T),t=e.setMovies,c=e.setTitle,s=S().currentUser;return Object(L.jsx)(oe.a,{bg:"dark",variant:"dark",expand:"lg",sticky:"top",children:Object(L.jsxs)(p.a,{children:[Object(L.jsx)(oe.a.Brand,{children:Object(L.jsx)(o.b,{to:"/",onClick:function(){t([]),c("")},className:"header",children:"Movie Finder"})}),Object(L.jsx)(oe.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(L.jsx)(oe.a.Collapse,{id:"basic-navbar-nav",children:Object(L.jsxs)(le.a,{className:"me-auto",children:[Object(L.jsx)(le.a.Link,{children:Object(L.jsx)(o.b,{to:"/",children:"Search"})}),Object(L.jsx)(le.a.Link,{children:Object(L.jsx)(o.b,{to:"/favorites",children:"Favorites"})}),Object(L.jsx)(le.a.Link,{children:null==s?Object(L.jsx)(o.b,{to:"/login",children:"Login"}):Object(L.jsx)(o.b,{to:"/dashboard",children:"Profile"})})]})})]})})}var de=function(){return Object(L.jsx)("div",{className:"container",children:Object(L.jsx)("h1",{className:"display-2 not-found-margin-top",children:"404 Not Found"})})},ue=c(11),be=["component"];function Oe(e){var t=e.component,c=Object(ue.a)(e,be),n=S().currentUser;return Object(L.jsx)(l.Route,Object(O.a)(Object(O.a)({},c),{},{render:function(e){return n?Object(L.jsx)(t,Object(O.a)({},e)):Object(L.jsx)(l.Redirect,{to:"/login"})}}))}var he=c(84),me=(c(158),function(){var e=S().currentUser,t=Object(n.useContext)(T),c=t.movies,s=t.setMovies,a=t.title,i=t.setTitle,o=t.favorites,j=t.movieLists,d=t.findByTitle,u=t.setFindByTitle,O=t.setTotalResults,m=t.page,x=t.setPage,f=t.name,v=t.setName,p=Object(n.useState)(!1),g=Object(r.a)(p,2),y=g[0],N=g[1],w=Object(n.useState)(!1),C=Object(r.a)(w,2),k=C[0],M=C[1],P=function(){M(!0),v("")},U=Object(l.useHistory)();var B=function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{ce.a.get("https://www.omdbapi.com/?s=".concat(a,"&type=movie&page=").concat(m,"&apikey=6fe3dbba")).then((function(e){var t=e.data.Search,c=e.data.totalResults;s(t),O(c),d!==a&&u(a),I(a)}))}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function I(e){var t=m+1;ce.a.get("https://www.omdbapi.com/?s=".concat(e,"&type=movie&page=").concat(t,"&apikey=6fe3dbba")).then((function(e){var t=e.data.Search;console.log(t),N(void 0===t)}))}return Object(n.useEffect)((function(){""!==d&&B()}),[m]),Object(n.useEffect)((function(){}),[o]),Object(n.useEffect)((function(){}),[c]),Object(n.useEffect)((function(){}),[j]),Object(n.useEffect)((function(){}),[f]),Object(L.jsxs)("div",{className:"container",children:[Object(L.jsx)("h1",{className:"display-4 display-margin",children:"Search"}),Object(L.jsxs)("form",{id:"search-form",onSubmit:function(e){e.preventDefault(),x(1),console.log("Handle submit retrieve"),B()},children:[Object(L.jsx)("input",{type:"text",name:"titleName",id:"search-input",onChange:function(e){return i(e.target.value)},value:a}),Object(L.jsx)("button",{id:"search-button",type:"submit",children:"Search"})]}),Object(L.jsx)(q,{autoClose:2500}),Object(L.jsx)(J,{showAddMovieList:k,handleAddMovieListClose:function(){M(!1),v("")},currentUser:e}),Object(L.jsxs)("div",{className:"movies-container container row row-cols-1 row-cols-sm-2 row-cols-md-2 row-cols-lg-5 row-cols-xl-5 g-4",children:[c&&c.map((function(t,c){return Object(L.jsx)("div",{className:"col movie-card",children:Object(L.jsxs)("div",{className:"card",children:[Object(L.jsx)(W,{componentName:"search",movie:t,handleAddMovieListShow:P,currentUser:e}),Object(L.jsx)(V,{componentName:"search",movie:t,currentUser:e}),Object(L.jsx)("img",{alt:t.Title,className:"card-img-top",src:"N/A"==t.Poster?"https://2gyntc2a2i9a22ifya16a222-wpengine.netdna-ssl.com/wp-content/uploads/sites/29/2014/12/Image-Not-Available.jpg":t.Poster,onClick:function(){U.push("/fullPlot/".concat(t.Type,"/").concat(t.Title))}}),Object(L.jsxs)("div",{className:"card-body",onClick:function(){U.push("/fullPlot/".concat(t.Type,"/").concat(t.Title))},children:[Object(L.jsx)("p",{className:"card-title lead",children:t.Title}),Object(L.jsx)("small",{className:"card-text text-muted",children:t.Year})]})]})},c)})),c&&c.length>0?Object(L.jsxs)(he.a,{className:"pagination",children:[Object(L.jsx)(he.a.Item,{disabled:1===m,onClick:function(){x(m-1)},children:"Prev"}),Object(L.jsx)(he.a.Item,{children:m}),Object(L.jsx)(he.a.Item,{disabled:y,onClick:function(){x(m+1)},children:"Next"})]}):""]})]})}),xe=(c(159),function(){var e=Object(n.useRef)(),t=Object(n.useRef)(),c=Object(n.useRef)(),s=S(),a=s.signInWithGoogle,i=s.signup,j=s.currentUser,d=Object(n.useState)(""),u=Object(r.a)(d,2),O=u[0],m=u[1],g=Object(n.useState)(!1),y=Object(r.a)(g,2),N=y[0],w=y[1],C=Object(l.useHistory)(),k=Object(n.useContext)(T),M=k.favorites,P=k.movieLists,U=ie();function I(){return(I=Object(h.a)(b.a.mark((function n(s){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s.preventDefault(),t.current.value===c.current.value){n.next=3;break}return n.abrupt("return",m("Passwords do not match"));case 3:return n.prev=3,m(""),w(!0),n.next=8,i(e.current.value,t.current.value);case 8:C.push("/dashboard"),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(3),console.log(n.t0),m("Failed to create an account");case 15:U.current&&w(!1);case 16:case"end":return n.stop()}}),n,null,[[3,11]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){null!=j&&B(j,M,P)}),[j]),Object(L.jsx)(p.a,{className:"d-flex align-items-center justify-content-center text-align",style:{minHieght:"100vh"},children:Object(L.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(L.jsx)("h1",{className:"display-4 display-margin",children:"Sign Up"}),Object(L.jsx)(v.a,{children:Object(L.jsxs)(v.a.Body,{children:[O&&Object(L.jsx)(x.a,{variant:"danger",children:O}),Object(L.jsxs)(_.a,{onSubmit:function(e){return I.apply(this,arguments)},children:[Object(L.jsxs)(_.a.Group,{className:"mb-3",id:"email",children:[Object(L.jsx)(_.a.Label,{children:"Email"}),Object(L.jsx)(_.a.Control,{type:"email",ref:e,required:!0})]}),Object(L.jsxs)(_.a.Group,{className:"mb-3",id:"password",children:[Object(L.jsx)(_.a.Label,{children:"Password"}),Object(L.jsx)(_.a.Control,{type:"password",ref:t,required:!0})]}),Object(L.jsxs)(_.a.Group,{className:"mb-3",id:"password-confirm",children:[Object(L.jsx)(_.a.Label,{children:"Password Confirmation"}),Object(L.jsx)(_.a.Control,{type:"password",ref:c,required:!0})]}),Object(L.jsx)(f.a,{disabled:N,className:"w-100  mb-2",variant:"primary",type:"submit",children:"Sign Up"})]}),Object(L.jsx)("div",{className:"w-100 text-center mt-2 strike",children:Object(L.jsx)("span",{children:"OR"})}),Object(L.jsxs)(f.a,{variant:"outline-danger",className:"w-100 mt-3 mb-2",onClick:function(){return a().then((function(){return C.push("/dashboard")})).catch((function(e){return console.log(e.message)}))},children:[Object(L.jsx)(ae.a,{className:"google-icon"}),"Sign up with Google"]})]})}),Object(L.jsxs)("div",{className:"w-100 text-center mt-2 no-underline",children:["Already have an account? ",Object(L.jsx)(o.b,{to:"/login",children:"Login"})]})]})})});function fe(){var e=Object(n.useRef)(),t=Object(n.useRef)(),c=Object(n.useRef)(),s=S(),a=s.currentUser,i=s.updateUserEmail,j=s.updateUserPassword,d=Object(n.useState)(""),u=Object(r.a)(d,2),b=u[0],O=u[1],h=Object(n.useState)(!1),m=Object(r.a)(h,2),g=m[0],y=m[1],N=Object(l.useHistory)(),w=ie();return Object(L.jsx)(p.a,{className:"d-flex align-items-center justify-content-center text-align",style:{minHieght:"100vh"},children:Object(L.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(L.jsx)("h1",{className:"display-4 display-margin",children:"Update Profile"}),Object(L.jsx)(v.a,{children:Object(L.jsxs)(v.a.Body,{children:[b&&Object(L.jsx)(x.a,{variant:"danger",children:b}),Object(L.jsxs)(_.a,{onSubmit:function(n){if(n.preventDefault(),t.current.value!==c.current.value)return O("Passwords do not match");var s=[];y(!0),O(""),e.current.value!==a.email&&s.push(i(e.current.value)),t.current.value&&s.push(j(t.current.value)),Promise.all(s).then((function(){N.push("/dashboard")})).catch((function(){O("Failed to update account")})).finally((function(){w.current&&y(!1)}))},children:[Object(L.jsxs)(_.a.Group,{className:"mb-3",id:"email",children:[Object(L.jsx)(_.a.Label,{children:"Email"}),Object(L.jsx)(_.a.Control,{type:"email",ref:e,required:!0,defaultValue:a.email})]}),Object(L.jsxs)(_.a.Group,{className:"mb-3",id:"password",children:[Object(L.jsx)(_.a.Label,{children:"Password"}),Object(L.jsx)(_.a.Control,{type:"password",ref:t,placeholder:"Leave blank to keep the same"})]}),Object(L.jsxs)(_.a.Group,{className:"mb-3",id:"password-confirm",children:[Object(L.jsx)(_.a.Label,{children:"Password Confirmation"}),Object(L.jsx)(_.a.Control,{type:"password",ref:c,placeholder:"Leave blank to keep the same"})]}),Object(L.jsx)(f.a,{disabled:g,className:"w-100",variant:"primary",type:"submit",children:"Update"})]})]})}),Object(L.jsx)("div",{className:"w-100 text-center mt-2 no-underline",children:Object(L.jsx)(o.b,{to:"/dashboard",children:"Cancel"})})]})})}var ve=function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(""),i=Object(r.a)(a,2),u=i[0],b=i[1],O=Object(n.useState)([]),h=Object(r.a)(O,2),m=h[0],x=h[1],f=Object(n.useState)([]),v=Object(r.a)(f,2),p=v[0],g=v[1],y=Object(n.useState)(0),N=Object(r.a)(y,2),w=N[0],C=N[1],k=Object(n.useState)(""),M=Object(r.a)(k,2),P=M[0],B=M[1],I=Object(n.useState)(1),R=Object(r.a)(I,2),A=R[0],D=R[1],F=Object(n.useState)(""),H=Object(r.a)(F,2),G=H[0],Y=H[1],W=Object(n.useState)({}),q=Object(r.a)(W,2),V=q[0],K=q[1];Object(n.useEffect)((function(){c&&c.length>0&&w>0?z(u,w):u&&u.length>0&&void 0==c&&void 0==w&&J(u)}),[P]);var J=function(e){return d.b.error("No results found for "+e+". Enter a different search term and try again.")},z=function(e,t){return d.b.success("Found "+t+" results found for "+e)},Q=S().currentUser;return Object(n.useEffect)((function(){Q&&null!=Q&&U(Q,x,g)}),[]),Object(L.jsx)(o.a,{children:Object(L.jsx)(T.Provider,{value:{movies:c,setMovies:s,title:u,setTitle:b,favorites:m,setFavorites:x,movieLists:p,setMovieLists:g,findByTitle:P,setFindByTitle:B,setTotalResults:C,page:A,setPage:D,name:G,setName:Y,currentMovie:V,setCurrentMovie:K},children:Object(L.jsxs)("div",{className:"App",children:[Object(L.jsx)(je,{}),Object(L.jsxs)(l.Switch,{children:[Object(L.jsx)(l.Route,{exact:!0,path:"/",children:Object(L.jsx)(me,{})}),Object(L.jsx)(l.Route,{exact:!0,path:"/fullplot/:fullPlotType/:fullPlotTitle",children:Object(L.jsx)(se,{})}),Object(L.jsx)(l.Route,{exact:!0,path:"/favorites",children:Object(L.jsx)($,{})}),Object(L.jsx)(l.Route,{exact:!0,path:"/signup",children:null!=Q?Object(L.jsx)(j.Redirect,{to:"/dashboard"}):Object(L.jsx)(xe,{})}),Object(L.jsx)(l.Route,{exact:!0,path:"/login",children:null!=Q?Object(L.jsx)(j.Redirect,{to:"/dashboard"}):Object(L.jsx)(re,{})}),Object(L.jsx)(l.Route,{exact:!0,path:"/forgot-password",children:Object(L.jsx)(ee,{})}),Object(L.jsx)(Oe,{exact:!0,path:"/dashboard",component:E}),Object(L.jsx)(Oe,{exact:!0,path:"/update-profile",component:fe}),Object(L.jsx)(l.Route,{children:Object(L.jsx)(de,{})})]})]})})})},pe=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,169)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),s(e),a(e),i(e)}))};c(160);i.a.render(Object(L.jsx)(s.a.StrictMode,{children:Object(L.jsx)(M,{children:Object(L.jsx)(ve,{})})}),document.getElementById("root")),pe()}},[[161,1,2]]]);
//# sourceMappingURL=main.a79d02f4.chunk.js.map